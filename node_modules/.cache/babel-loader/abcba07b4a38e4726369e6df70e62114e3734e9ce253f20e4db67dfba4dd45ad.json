{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\david\\\\OneDrive\\\\Escritorio\\\\TrucoFront\\\\src\\\\game\\\\EquipoView.js\";\nimport { forwardRef } from 'react';\nimport JugadorView from \"../components/JugadorView.js\";\nimport { CiCirclePlus } from \"react-icons/ci\";\nimport tokenService from \"../services/token.service.js\";\nimport { AiOutlineUserDelete } from \"react-icons/ai\";\nimport { FaRegHandPointRight } from \"react-icons/fa6\";\nimport { FaCrown } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EquipoView = /*#__PURE__*/forwardRef(_c = (props, ref) => {\n  const usuario = tokenService.getUser();\n  const jwt = tokenService.getLocalAccessToken();\n  let jugadoresList = [];\n  function changeTeam() {\n    fetch(\"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/partidajugador/changeteam?userId=\" + usuario.id, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      if (!response.ok) {\n        alert(\"Error al cambiar de equipo\");\n      }\n    }).catch(message => alert(message));\n  }\n  function handleExpelPlayer(playerId) {\n    fetch(\"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/partidajugador/eliminarJugador/\" + playerId, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    }).then(response => response.text()).then(data => {}).catch(message => alert(message));\n  }\n  function getPlayerKey(player) {\n    let res = player.id;\n    if (player.isConnected === false) {\n      res += props.jugadores.length;\n    }\n    return res;\n  }\n  function getJugadoresList() {\n    if (props.jugadores.length > 0) {\n      jugadoresList = props.jugadores.map(j => j.player).map(player => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 5,\n            textAlign: 'left',\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [props.gameCreator && props.gameCreator.id === usuario.id && player.id !== usuario.id && /*#__PURE__*/_jsxDEV(AiOutlineUserDelete, {\n            style: {\n              width: 40,\n              height: 40,\n              cursor: \"pointer\",\n              color: \"black\"\n            },\n            onClick: () => handleExpelPlayer(player.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), props.gameCreator && props.gameCreator.id === player.id && player.id !== usuario.id && /*#__PURE__*/_jsxDEV(FaCrown, {\n            style: {\n              width: 40,\n              height: 40,\n              color: 'black'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), player.id === usuario.id && /*#__PURE__*/_jsxDEV(FaRegHandPointRight, {\n            style: {\n              width: 40,\n              height: 40,\n              color: \"black\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(JugadorView, {\n            jugador: player,\n            interfaz: 'partida'\n          }, getPlayerKey(player), false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this)]\n        }, getPlayerKey(player), true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this);\n      });\n    }\n    const jugRestantes = Math.max(0, props.partida.numJugadores / 2 - props.jugadores.length);\n    const botones = [];\n    for (let i = 0; i < jugRestantes; i++) {\n      botones.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '2px solid black',\n          padding: '20px',\n          display: 'flex',\n          alignItems: 'center',\n          textAlign: 'center',\n          width: 'auto',\n          height: 'auto',\n          cursor: 'pointer'\n        },\n        onClick: () => {\n          //Comprobamos si en la lista de jugadores del equipo ya estÃ¡ el usuario\n          const jugador = props.jugadores.find(j => j.player.id === usuario.id);\n          if (jugador) {\n            alert(\"Ya perteneces a este equipo\");\n          } else {\n            changeTeam();\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(CiCirclePlus, {\n          style: {\n            width: 30,\n            height: 30,\n            color: 'black',\n            marginRight: 10\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0\n          },\n          children: \"Unirse al equipo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this));\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: jugadoresList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: botones\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: getJugadoresList()\n  }, void 0, false);\n});\n_c2 = EquipoView;\nexport default EquipoView;\nvar _c, _c2;\n$RefreshReg$(_c, \"EquipoView$forwardRef\");\n$RefreshReg$(_c2, \"EquipoView\");","map":{"version":3,"names":["forwardRef","JugadorView","CiCirclePlus","tokenService","AiOutlineUserDelete","FaRegHandPointRight","FaCrown","jsxDEV","_jsxDEV","Fragment","_Fragment","EquipoView","_c","props","ref","usuario","getUser","jwt","getLocalAccessToken","jugadoresList","changeTeam","fetch","id","method","headers","Authorization","Accept","then","response","ok","alert","catch","message","handleExpelPlayer","playerId","text","data","getPlayerKey","player","res","isConnected","jugadores","length","getJugadoresList","map","j","style","marginBottom","textAlign","display","alignItems","children","gameCreator","width","height","cursor","color","onClick","fileName","_jsxFileName","lineNumber","columnNumber","jugador","interfaz","jugRestantes","Math","max","partida","numJugadores","botones","i","push","border","padding","find","marginRight","margin","_c2","$RefreshReg$"],"sources":["C:/Users/david/OneDrive/Escritorio/TrucoFront/src/game/EquipoView.js"],"sourcesContent":["import { forwardRef } from 'react';\r\nimport JugadorView from \"../components/JugadorView.js\";\r\nimport { CiCirclePlus } from \"react-icons/ci\";\r\nimport tokenService from \"../services/token.service.js\";\r\nimport { AiOutlineUserDelete } from \"react-icons/ai\";\r\nimport { FaRegHandPointRight } from \"react-icons/fa6\";\r\nimport { FaCrown } from \"react-icons/fa\";\r\nconst EquipoView = forwardRef((props, ref) => {\r\n    const usuario = tokenService.getUser();\r\n    const jwt = tokenService.getLocalAccessToken();\r\n    let jugadoresList = [];\r\n\r\n    function changeTeam() {\r\n        fetch(\r\n            \"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/partidajugador/changeteam?userId=\" + usuario.id,\r\n            {\r\n                method: \"PATCH\",\r\n                headers: {\r\n                    Authorization: `Bearer ${jwt}`,\r\n                    Accept: \"application/json\",\r\n                    \"Content-Type\": \"application/json\",\r\n                  }\r\n            }\r\n        )\r\n            .then((response) => {\r\n                if (!response.ok) {\r\n                    alert(\"Error al cambiar de equipo\")\r\n                }\r\n            })\r\n            .catch((message) => alert(message));\r\n\r\n    }\r\n\r\n    function handleExpelPlayer(playerId){\r\n        fetch(\r\n            \"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/partidajugador/eliminarJugador/\"+playerId,\r\n            {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    Authorization: `Bearer ${jwt}`,\r\n                  },\r\n            }\r\n        )\r\n            .then((response) => response.text())\r\n            .then((data) => {\r\n            })\r\n            .catch((message) => alert(message));\r\n\r\n    }\r\n\r\n    function getPlayerKey(player) {\r\n        let res = player.id;\r\n        if(player.isConnected===false){\r\n            res+=props.jugadores.length;\r\n        }\r\n        return res;\r\n    }\r\n\r\n    function getJugadoresList() {\r\n        if(props.jugadores.length > 0){\r\n         jugadoresList = props.jugadores.map(j => j.player).map((player) => {\r\n            return (\r\n                <div key={getPlayerKey(player)} style={{ marginBottom: 5, textAlign: 'left', display: 'flex', alignItems: 'center', }}>\r\n                    {props.gameCreator && props.gameCreator.id === usuario.id && player.id !== usuario.id &&\r\n                        <AiOutlineUserDelete style={{ width: 40, height: 40, cursor: \"pointer\", color:\"black\"}} onClick={()=> handleExpelPlayer(player.id)} />\r\n                    }\r\n                    {props.gameCreator && props.gameCreator.id === player.id && player.id !== usuario.id &&\r\n                        <FaCrown style={{ width: 40, height: 40,color:'black' }} />\r\n                    }\r\n                    {player.id === usuario.id &&\r\n                        <FaRegHandPointRight style={{ width: 40, height: 40, color:\"black\" }} />\r\n                    }\r\n                    <JugadorView\r\n                        key={getPlayerKey(player)}\r\n                        jugador={player}\r\n                        interfaz={'partida'}\r\n                    />\r\n                </div>\r\n            )\r\n        });\r\n    }\r\n\r\n        const jugRestantes = Math.max(0, props.partida.numJugadores / 2 - props.jugadores.length);\r\n        const botones = [];\r\n        for (let i = 0; i < jugRestantes; i++) {\r\n            botones.push(\r\n                <div style={{\r\n                    border: '2px solid black',\r\n                    padding: '20px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    textAlign: 'center',\r\n                    width: 'auto',\r\n                    height: 'auto',\r\n                    cursor: 'pointer'\r\n                }}\r\n                    onClick={() => {\r\n\r\n                        //Comprobamos si en la lista de jugadores del equipo ya estÃ¡ el usuario\r\n                        const jugador = props.jugadores.find(j => j.player.id === usuario.id);\r\n                        if (jugador) {\r\n                            alert(\"Ya perteneces a este equipo\");\r\n\r\n                        } else {\r\n                            changeTeam();\r\n                        }\r\n                    }\r\n\r\n\r\n\r\n                    }\r\n                >\r\n                    <CiCirclePlus style={{ width: 30, height: 30, color: 'black', marginRight: 10 }} />\r\n                    <p style={{ margin: 0 }}>Unirse al equipo</p>\r\n                </div>\r\n\r\n\r\n            );\r\n        }\r\n        return (\r\n            <div>\r\n                <p>{jugadoresList}</p>\r\n                <p>{botones}</p>\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            {getJugadoresList()}\r\n        </>\r\n    )\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n});\r\nexport default EquipoView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}