{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\david\\\\OneDrive\\\\Escritorio\\\\TrucoFront\\\\src\\\\components\\\\JugadorView.js\",\n  _s = $RefreshSig$();\nimport { useState, forwardRef } from 'react';\nimport tokenService from '../services/token.service.js';\nimport { FaCircle } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst user = tokenService.getUser();\nconst jwt = tokenService.getLocalAccessToken();\nconst JugadorView = /*#__PURE__*/_s(/*#__PURE__*/forwardRef(_c = _s((props, ref) => {\n  _s();\n  const [jugador, setJugador] = useState(props.jugador);\n  const [pressed, setPressed] = useState(false);\n  function handleSubmit() {\n    fetch(\"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/jugador/\" + user.id + \"/isSolicitado/\" + jugador.id, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    }).then(response => {\n      if (response.status === 500) {\n        alert(\"No se puede mandar esa solicitud\");\n      } else {\n        setPressed(true);\n      }\n    }).catch(error => alert(error.message));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: jugador.amistad === 'SOLICITADO' ? {} : {\n      transition: 'background-color 0.3s ease, border 0.3s ease'\n    },\n    onMouseEnter: e => {\n      if (jugador.amistad === 'SOLICITADO') {\n        e.currentTarget.style.backgroundColor = 'rgba(255, 255, 255, 0.5)';\n        e.currentTarget.style.border = '2px solid lightbrown';\n      }\n    },\n    onMouseLeave: e => {\n      if (jugador.amistad === 'SOLICITADO') {\n        e.currentTarget.style.backgroundColor = 'transparent';\n        e.currentTarget.style.border = 'none';\n      }\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        cursor: 'pointer',\n        position: 'relative'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          marginLeft: 5,\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'relative'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            style: {\n              height: 80,\n              width: 80,\n              borderRadius: 500\n            },\n            src: jugador.photo,\n            alt: \"Foto de perfil del usuario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), (jugador.amistad === 'AMIGOS' || props.interfaz === 'partida') && /*#__PURE__*/_jsxDEV(FaCircle, {\n            style: {\n              color: jugador.isConnected ? 'green' : 'grey',\n              fontSize: 20,\n              position: 'absolute',\n              bottom: 10,\n              right: -5\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: ''\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginLeft: 10,\n              fontSize: 25,\n              marginBottom: 0\n            },\n            children: jugador.firstName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginLeft: 10,\n              fontSize: 12,\n              marginBottom: 0\n            },\n            children: jugador.userName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), jugador.amistad === 'AMIGOS' && jugador.id !== user.id && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginLeft: 10,\n                color: 'rgb(96,96,96)',\n                whiteSpace: \"nowrap\",\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n                fontStyle: 'italic'\n              },\n              children: jugador.ultimoMensaje ? jugador.ultimoMensaje.contenido.length > 40 ? `${jugador.ultimoMensaje.contenido.substring(0, 37)}...` : jugador.ultimoMensaje.contenido : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), jugador.amistad === 'DESCONOCIDOS' && jugador.id !== user.id && /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"button\",\n          style: {\n            margin: 10,\n            color: 'darkgreen',\n            visibility: pressed ? 'hidden' : 'visible'\n          },\n          onClick: () => handleSubmit(),\n          children: \"Solicitud amistad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n}, \"DxG8MPbPzc9tUJNcqULp03ZcLzA=\")), \"DxG8MPbPzc9tUJNcqULp03ZcLzA=\");\n_c2 = JugadorView;\nexport default JugadorView;\nvar _c, _c2;\n$RefreshReg$(_c, \"JugadorView$forwardRef\");\n$RefreshReg$(_c2, \"JugadorView\");","map":{"version":3,"names":["useState","forwardRef","tokenService","FaCircle","jsxDEV","_jsxDEV","user","getUser","jwt","getLocalAccessToken","JugadorView","_s","_c","props","ref","jugador","setJugador","pressed","setPressed","handleSubmit","fetch","id","method","headers","Authorization","then","response","status","alert","catch","error","message","style","amistad","transition","onMouseEnter","e","currentTarget","backgroundColor","border","onMouseLeave","children","cursor","position","display","alignItems","marginLeft","height","width","borderRadius","src","photo","alt","fileName","_jsxFileName","lineNumber","columnNumber","interfaz","color","isConnected","fontSize","bottom","right","marginBottom","firstName","userName","whiteSpace","overflow","textOverflow","fontStyle","ultimoMensaje","contenido","length","substring","class","margin","visibility","onClick","_c2","$RefreshReg$"],"sources":["C:/Users/david/OneDrive/Escritorio/TrucoFront/src/components/JugadorView.js"],"sourcesContent":["import { useState, forwardRef } from 'react';\r\nimport tokenService from '../services/token.service.js';\r\nimport { FaCircle } from \"react-icons/fa\";\r\nconst user = tokenService.getUser();\r\nconst jwt = tokenService.getLocalAccessToken();\r\n\r\nconst JugadorView = forwardRef((props, ref) => {\r\n    const [jugador, setJugador] = useState(props.jugador);\r\n    const [pressed, setPressed] = useState(false);\r\n\r\n\r\n\r\n    function handleSubmit() {\r\n        fetch(\r\n            \"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/jugador/\" + user.id + \"/isSolicitado/\" + jugador.id,\r\n            {\r\n                method: \"PATCH\",\r\n                headers: {\r\n                    Authorization: `Bearer ${jwt}`,\r\n                }\r\n            }\r\n        )\r\n            .then((response) => {\r\n                if (response.status === 500) {\r\n                    alert(\"No se puede mandar esa solicitud\")\r\n                } else {\r\n                    setPressed(true);\r\n                }\r\n            })\r\n            .catch((error) => alert(error.message));\r\n    }\r\n\r\n    return (\r\n        <div\r\n            style={jugador.amistad === 'SOLICITADO' ? {} : { transition: 'background-color 0.3s ease, border 0.3s ease' }}\r\n            onMouseEnter={(e) => {\r\n                if (jugador.amistad === 'SOLICITADO') {\r\n                    e.currentTarget.style.backgroundColor = 'rgba(255, 255, 255, 0.5)';\r\n                    e.currentTarget.style.border = '2px solid lightbrown';\r\n                }\r\n            }}\r\n            onMouseLeave={(e) => {\r\n                if (jugador.amistad === 'SOLICITADO') {\r\n                    e.currentTarget.style.backgroundColor = 'transparent';\r\n                    e.currentTarget.style.border = 'none';\r\n                }\r\n            }}\r\n        >\r\n            <div style={{ cursor: 'pointer', position: 'relative' }}>\r\n                <div style={{ display: 'flex', alignItems: 'center', marginLeft: 5, position: 'relative' }}>\r\n                    <div style={{ position: 'relative' }}>\r\n                        <img style={{ height: 80, width: 80, borderRadius: 500 }} src={jugador.photo} alt='Foto de perfil del usuario'></img>\r\n                        {(jugador.amistad === 'AMIGOS' || props.interfaz === 'partida') &&\r\n                            <FaCircle style={{ color: jugador.isConnected ? 'green' : 'grey', fontSize: 20, position: 'absolute', bottom: 10, right: -5 }} />\r\n                        }\r\n                    </div>\r\n                    <div style={{ display: '' }}>\r\n                        <p style={{ marginLeft: 10, fontSize: 25, marginBottom: 0 }}>{jugador.firstName}</p>\r\n                        <p style={{ marginLeft: 10, fontSize: 12, marginBottom: 0 }}>{jugador.userName}</p>\r\n\r\n                        {jugador.amistad === 'AMIGOS' && jugador.id !== user.id &&\r\n                            <div>\r\n                                <p style={{ marginLeft: 10, color: 'rgb(96,96,96)', whiteSpace: \"nowrap\", overflow: \"hidden\", textOverflow: \"ellipsis\", fontStyle: 'italic' }}>\r\n                                    {jugador.ultimoMensaje ?\r\n                                        (jugador.ultimoMensaje.contenido.length > 40\r\n                                            ? `${jugador.ultimoMensaje.contenido.substring(0, 37)}...`\r\n                                            : jugador.ultimoMensaje.contenido)\r\n                                        : ''}\r\n                                </p>\r\n\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                    {jugador.amistad === 'DESCONOCIDOS' && jugador.id !== user.id &&\r\n                        <button class=\"button\" style={{ margin: 10, color: 'darkgreen', visibility: pressed ? 'hidden' : 'visible' }} onClick={() => handleSubmit()}>\r\n                            Solicitud amistad\r\n                        </button>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default JugadorView;"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC5C,OAAOC,YAAY,MAAM,8BAA8B;AACvD,SAASC,QAAQ,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC1C,MAAMC,IAAI,GAAGJ,YAAY,CAACK,OAAO,CAAC,CAAC;AACnC,MAAMC,GAAG,GAAGN,YAAY,CAACO,mBAAmB,CAAC,CAAC;AAE9C,MAAMC,WAAW,gBAAAC,EAAA,cAAGV,UAAU,CAAAW,EAAA,GAAAD,EAAA,CAAC,CAACE,KAAK,EAAEC,GAAG,KAAK;EAAAH,EAAA;EAC3C,MAAM,CAACI,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAACa,KAAK,CAACE,OAAO,CAAC;EACrD,MAAM,CAACE,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAI7C,SAASmB,YAAYA,CAAA,EAAG;IACpBC,KAAK,CACD,qFAAqF,GAAGd,IAAI,CAACe,EAAE,GAAG,gBAAgB,GAAGN,OAAO,CAACM,EAAE,EAC/H;MACIC,MAAM,EAAE,OAAO;MACfC,OAAO,EAAE;QACLC,aAAa,EAAE,UAAUhB,GAAG;MAChC;IACJ,CACJ,CAAC,CACIiB,IAAI,CAAEC,QAAQ,IAAK;MAChB,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;QACzBC,KAAK,CAAC,kCAAkC,CAAC;MAC7C,CAAC,MAAM;QACHV,UAAU,CAAC,IAAI,CAAC;MACpB;IACJ,CAAC,CAAC,CACDW,KAAK,CAAEC,KAAK,IAAKF,KAAK,CAACE,KAAK,CAACC,OAAO,CAAC,CAAC;EAC/C;EAEA,oBACI1B,OAAA;IACI2B,KAAK,EAAEjB,OAAO,CAACkB,OAAO,KAAK,YAAY,GAAG,CAAC,CAAC,GAAG;MAAEC,UAAU,EAAE;IAA+C,CAAE;IAC9GC,YAAY,EAAGC,CAAC,IAAK;MACjB,IAAIrB,OAAO,CAACkB,OAAO,KAAK,YAAY,EAAE;QAClCG,CAAC,CAACC,aAAa,CAACL,KAAK,CAACM,eAAe,GAAG,0BAA0B;QAClEF,CAAC,CAACC,aAAa,CAACL,KAAK,CAACO,MAAM,GAAG,sBAAsB;MACzD;IACJ,CAAE;IACFC,YAAY,EAAGJ,CAAC,IAAK;MACjB,IAAIrB,OAAO,CAACkB,OAAO,KAAK,YAAY,EAAE;QAClCG,CAAC,CAACC,aAAa,CAACL,KAAK,CAACM,eAAe,GAAG,aAAa;QACrDF,CAAC,CAACC,aAAa,CAACL,KAAK,CAACO,MAAM,GAAG,MAAM;MACzC;IACJ,CAAE;IAAAE,QAAA,eAEFpC,OAAA;MAAK2B,KAAK,EAAE;QAAEU,MAAM,EAAE,SAAS;QAAEC,QAAQ,EAAE;MAAW,CAAE;MAAAF,QAAA,eACpDpC,OAAA;QAAK2B,KAAK,EAAE;UAAEY,OAAO,EAAE,MAAM;UAAEC,UAAU,EAAE,QAAQ;UAAEC,UAAU,EAAE,CAAC;UAAEH,QAAQ,EAAE;QAAW,CAAE;QAAAF,QAAA,gBACvFpC,OAAA;UAAK2B,KAAK,EAAE;YAAEW,QAAQ,EAAE;UAAW,CAAE;UAAAF,QAAA,gBACjCpC,OAAA;YAAK2B,KAAK,EAAE;cAAEe,MAAM,EAAE,EAAE;cAAEC,KAAK,EAAE,EAAE;cAAEC,YAAY,EAAE;YAAI,CAAE;YAACC,GAAG,EAAEnC,OAAO,CAACoC,KAAM;YAACC,GAAG,EAAC;UAA4B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EACpH,CAACzC,OAAO,CAACkB,OAAO,KAAK,QAAQ,IAAIpB,KAAK,CAAC4C,QAAQ,KAAK,SAAS,kBAC1DpD,OAAA,CAACF,QAAQ;YAAC6B,KAAK,EAAE;cAAE0B,KAAK,EAAE3C,OAAO,CAAC4C,WAAW,GAAG,OAAO,GAAG,MAAM;cAAEC,QAAQ,EAAE,EAAE;cAAEjB,QAAQ,EAAE,UAAU;cAAEkB,MAAM,EAAE,EAAE;cAAEC,KAAK,EAAE,CAAC;YAAE;UAAE;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEpI,CAAC,eACNnD,OAAA;UAAK2B,KAAK,EAAE;YAAEY,OAAO,EAAE;UAAG,CAAE;UAAAH,QAAA,gBACxBpC,OAAA;YAAG2B,KAAK,EAAE;cAAEc,UAAU,EAAE,EAAE;cAAEc,QAAQ,EAAE,EAAE;cAAEG,YAAY,EAAE;YAAE,CAAE;YAAAtB,QAAA,EAAE1B,OAAO,CAACiD;UAAS;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACpFnD,OAAA;YAAG2B,KAAK,EAAE;cAAEc,UAAU,EAAE,EAAE;cAAEc,QAAQ,EAAE,EAAE;cAAEG,YAAY,EAAE;YAAE,CAAE;YAAAtB,QAAA,EAAE1B,OAAO,CAACkD;UAAQ;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAElFzC,OAAO,CAACkB,OAAO,KAAK,QAAQ,IAAIlB,OAAO,CAACM,EAAE,KAAKf,IAAI,CAACe,EAAE,iBACnDhB,OAAA;YAAAoC,QAAA,eACIpC,OAAA;cAAG2B,KAAK,EAAE;gBAAEc,UAAU,EAAE,EAAE;gBAAEY,KAAK,EAAE,eAAe;gBAAEQ,UAAU,EAAE,QAAQ;gBAAEC,QAAQ,EAAE,QAAQ;gBAAEC,YAAY,EAAE,UAAU;gBAAEC,SAAS,EAAE;cAAS,CAAE;cAAA5B,QAAA,EACzI1B,OAAO,CAACuD,aAAa,GACjBvD,OAAO,CAACuD,aAAa,CAACC,SAAS,CAACC,MAAM,GAAG,EAAE,GACtC,GAAGzD,OAAO,CAACuD,aAAa,CAACC,SAAS,CAACE,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,GACxD1D,OAAO,CAACuD,aAAa,CAACC,SAAS,GACnC;YAAE;cAAAlB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAET,CAAC,EACLzC,OAAO,CAACkB,OAAO,KAAK,cAAc,IAAIlB,OAAO,CAACM,EAAE,KAAKf,IAAI,CAACe,EAAE,iBACzDhB,OAAA;UAAQqE,KAAK,EAAC,QAAQ;UAAC1C,KAAK,EAAE;YAAE2C,MAAM,EAAE,EAAE;YAAEjB,KAAK,EAAE,WAAW;YAAEkB,UAAU,EAAE3D,OAAO,GAAG,QAAQ,GAAG;UAAU,CAAE;UAAC4D,OAAO,EAAEA,CAAA,KAAM1D,YAAY,CAAC,CAAE;UAAAsB,QAAA,EAAC;QAE7I;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEZ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC,kCAAC;AAACsB,GAAA,GA5EGpE,WAAW;AA8EjB,eAAeA,WAAW;AAAC,IAAAE,EAAA,EAAAkE,GAAA;AAAAC,YAAA,CAAAnE,EAAA;AAAAmE,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}