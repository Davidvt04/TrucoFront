{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\david\\\\OneDrive\\\\Escritorio\\\\TrucoFront\\\\src\\\\estadisticas\\\\GraficoCorrelacion.js\";\nimport React from 'react';\nimport HighchartsReact from 'highcharts-react-official';\nimport Highcharts from 'highcharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GraficoCorrelacion = ({\n  estadisticasAvanzadas\n}) => {\n  const parsearDatosDeCorrelacion = data => {\n    let victoriasMap = {};\n    let derrotasMap = {};\n    data.forEach(item => {\n      const fecha = new Date(item.fecha).getTime();\n      if (item.victorioso) {\n        if (!victoriasMap[fecha]) {\n          victoriasMap[fecha] = 0;\n        }\n        victoriasMap[fecha] += item.enganos;\n      } else {\n        if (!derrotasMap[fecha]) {\n          derrotasMap[fecha] = 0;\n        }\n        derrotasMap[fecha] += item.atrapados;\n      }\n    });\n    return {\n      victoriasMap,\n      derrotasMap\n    };\n  };\n  const {\n    victoriasMap,\n    derrotasMap\n  } = parsearDatosDeCorrelacion(estadisticasAvanzadas);\n\n  // Calculamos los totales\n  const totalVictorias = Object.keys(victoriasMap).length;\n  const totalEnganos = Object.values(victoriasMap).reduce((acc, val) => acc + val, 0);\n  const totalDerrotas = Object.keys(derrotasMap).length;\n  const totalAtrapados = Object.values(derrotasMap).reduce((acc, val) => acc + val, 0);\n  const graficoCorrelacion = {\n    chart: {\n      type: 'bubble',\n      backgroundColor: 'rgba(0, 0, 0, 0)',\n      zoomType: 'xy'\n    },\n    title: {\n      text: `Correlación: Victorias y Derrotas`,\n      style: {\n        color: '#ffffff'\n      }\n    },\n    subtitle: {\n      text: `Victorias: ${totalVictorias}, Engaños Totales: ${totalEnganos}<br>Derrotas: ${totalDerrotas}, Atrapados Totales: ${totalAtrapados}`,\n      style: {\n        color: '#ffffff'\n      }\n    },\n    xAxis: {\n      type: 'datetime',\n      title: {\n        text: 'Fecha y Hora',\n        style: {\n          color: '#ffffff'\n        }\n      },\n      labels: {\n        style: {\n          color: '#ffffff'\n        }\n      }\n    },\n    yAxis: {\n      title: {\n        text: 'Cantidad de engaños hechos o descubiertos',\n        style: {\n          color: '#ffffff'\n        }\n      },\n      labels: {\n        style: {\n          color: '#ffffff'\n        }\n      }\n    },\n    tooltip: {\n      useHTML: true,\n      formatter: function () {\n        const tipo = this.series.name.includes('Victorias') ? 'Victoria' : 'Derrota';\n        const total = this.series.name.includes('Victorias') ? `Engaños hechos: ${this.point.z}` : `Veces atrapado: ${this.point.z}`;\n        return `\n                    <b>${tipo}</b><br>\n                    Fecha: ${Highcharts.dateFormat('%e %b %Y, %H:%M', this.x)}<br>\n                    ${total}\n                `;\n      }\n    },\n    series: [{\n      name: 'Victorias con Engaños',\n      data: Object.keys(victoriasMap).map(fecha => ({\n        x: parseInt(fecha),\n        y: victoriasMap[fecha],\n        z: victoriasMap[fecha]\n      })),\n      color: '#4caf50',\n      marker: {\n        symbol: 'circle',\n        radius: 5\n      }\n    }, {\n      name: 'Derrotas siendo atrapado',\n      data: Object.keys(derrotasMap).map(fecha => ({\n        x: parseInt(fecha),\n        y: derrotasMap[fecha],\n        z: derrotasMap[fecha]\n      })),\n      color: '#f44336',\n      marker: {\n        symbol: 'triangle',\n        radius: 5\n      }\n    }],\n    plotOptions: {\n      bubble: {\n        minSize: 5,\n        maxSize: 20\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(HighchartsReact, {\n    highcharts: Highcharts,\n    options: graficoCorrelacion\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 9\n  }, this);\n};\n_c = GraficoCorrelacion;\nexport default GraficoCorrelacion;\nvar _c;\n$RefreshReg$(_c, \"GraficoCorrelacion\");","map":{"version":3,"names":["React","HighchartsReact","Highcharts","jsxDEV","_jsxDEV","GraficoCorrelacion","estadisticasAvanzadas","parsearDatosDeCorrelacion","data","victoriasMap","derrotasMap","forEach","item","fecha","Date","getTime","victorioso","enganos","atrapados","totalVictorias","Object","keys","length","totalEnganos","values","reduce","acc","val","totalDerrotas","totalAtrapados","graficoCorrelacion","chart","type","backgroundColor","zoomType","title","text","style","color","subtitle","xAxis","labels","yAxis","tooltip","useHTML","formatter","tipo","series","name","includes","total","point","z","dateFormat","x","map","parseInt","y","marker","symbol","radius","plotOptions","bubble","minSize","maxSize","highcharts","options","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/david/OneDrive/Escritorio/TrucoFront/src/estadisticas/GraficoCorrelacion.js"],"sourcesContent":["import React from 'react';\r\nimport HighchartsReact from 'highcharts-react-official';\r\nimport Highcharts from 'highcharts';\r\n\r\nconst GraficoCorrelacion = ({ estadisticasAvanzadas }) => { \r\n    const parsearDatosDeCorrelacion = (data) => {\r\n        let victoriasMap = {};\r\n        let derrotasMap = {};\r\n\r\n        data.forEach(item => {\r\n            const fecha = new Date(item.fecha).getTime();\r\n\r\n            if (item.victorioso) {\r\n                if (!victoriasMap[fecha]) {\r\n                    victoriasMap[fecha] = 0;\r\n                }\r\n                victoriasMap[fecha] += item.enganos;\r\n            } else {\r\n                if (!derrotasMap[fecha]) {\r\n                    derrotasMap[fecha] = 0;\r\n                }\r\n                derrotasMap[fecha] += item.atrapados;\r\n            }\r\n        });\r\n\r\n        return { victoriasMap, derrotasMap };\r\n    };\r\n\r\n    const { victoriasMap, derrotasMap } = parsearDatosDeCorrelacion(estadisticasAvanzadas);\r\n\r\n    // Calculamos los totales\r\n    const totalVictorias = Object.keys(victoriasMap).length;\r\n    const totalEnganos = Object.values(victoriasMap).reduce((acc, val) => acc + val, 0);\r\n    const totalDerrotas = Object.keys(derrotasMap).length;\r\n    const totalAtrapados = Object.values(derrotasMap).reduce((acc, val) => acc + val, 0);\r\n\r\n    const graficoCorrelacion = {\r\n        chart: {\r\n            type: 'bubble',\r\n            backgroundColor: 'rgba(0, 0, 0, 0)',\r\n            zoomType: 'xy',\r\n        },\r\n        title: {\r\n            text: `Correlación: Victorias y Derrotas`,\r\n            style: { color: '#ffffff' },\r\n        },\r\n        subtitle: {\r\n            text: `Victorias: ${totalVictorias}, Engaños Totales: ${totalEnganos}<br>Derrotas: ${totalDerrotas}, Atrapados Totales: ${totalAtrapados}`,\r\n            style: { color: '#ffffff' },\r\n        },\r\n        xAxis: {\r\n            type: 'datetime',\r\n            title: {\r\n                text: 'Fecha y Hora',\r\n                style: { color: '#ffffff' },\r\n            },\r\n            labels: {\r\n                style: { color: '#ffffff' },\r\n            },\r\n        },\r\n        yAxis: {\r\n            title: {\r\n                text: 'Cantidad de engaños hechos o descubiertos',\r\n                style: { color: '#ffffff' },\r\n            },\r\n            labels: {\r\n                style: { color: '#ffffff' },\r\n            },\r\n        },\r\n        tooltip: {\r\n            useHTML: true,\r\n            formatter: function () {\r\n                const tipo = this.series.name.includes('Victorias') ? 'Victoria' : 'Derrota';\r\n                const total = this.series.name.includes('Victorias') \r\n                    ? `Engaños hechos: ${this.point.z}` \r\n                    : `Veces atrapado: ${this.point.z}`;\r\n                return `\r\n                    <b>${tipo}</b><br>\r\n                    Fecha: ${Highcharts.dateFormat('%e %b %Y, %H:%M', this.x)}<br>\r\n                    ${total}\r\n                `;\r\n            },\r\n        },\r\n        series: [\r\n            {\r\n                name: 'Victorias con Engaños',\r\n                data: Object.keys(victoriasMap).map(fecha => ({\r\n                    x: parseInt(fecha), \r\n                    y: victoriasMap[fecha], \r\n                    z: victoriasMap[fecha], \r\n                })),\r\n                color: '#4caf50',\r\n                marker: {\r\n                    symbol: 'circle',\r\n                    radius: 5,\r\n                },\r\n            },\r\n            {\r\n                name: 'Derrotas siendo atrapado',\r\n                data: Object.keys(derrotasMap).map(fecha => ({\r\n                    x: parseInt(fecha), \r\n                    y: derrotasMap[fecha], \r\n                    z: derrotasMap[fecha],\r\n                })),\r\n                color: '#f44336',\r\n                marker: {\r\n                    symbol: 'triangle',\r\n                    radius: 5,\r\n                },\r\n            },\r\n        ],\r\n        plotOptions: {\r\n            bubble: {\r\n                minSize: 5,\r\n                maxSize: 20,\r\n            },\r\n        },\r\n    };\r\n\r\n    return (\r\n        <HighchartsReact\r\n            highcharts={Highcharts}\r\n            options={graficoCorrelacion}\r\n        />\r\n    );\r\n};\r\n\r\nexport default GraficoCorrelacion;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,eAAe,MAAM,2BAA2B;AACvD,OAAOC,UAAU,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,kBAAkB,GAAGA,CAAC;EAAEC;AAAsB,CAAC,KAAK;EACtD,MAAMC,yBAAyB,GAAIC,IAAI,IAAK;IACxC,IAAIC,YAAY,GAAG,CAAC,CAAC;IACrB,IAAIC,WAAW,GAAG,CAAC,CAAC;IAEpBF,IAAI,CAACG,OAAO,CAACC,IAAI,IAAI;MACjB,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAACF,IAAI,CAACC,KAAK,CAAC,CAACE,OAAO,CAAC,CAAC;MAE5C,IAAIH,IAAI,CAACI,UAAU,EAAE;QACjB,IAAI,CAACP,YAAY,CAACI,KAAK,CAAC,EAAE;UACtBJ,YAAY,CAACI,KAAK,CAAC,GAAG,CAAC;QAC3B;QACAJ,YAAY,CAACI,KAAK,CAAC,IAAID,IAAI,CAACK,OAAO;MACvC,CAAC,MAAM;QACH,IAAI,CAACP,WAAW,CAACG,KAAK,CAAC,EAAE;UACrBH,WAAW,CAACG,KAAK,CAAC,GAAG,CAAC;QAC1B;QACAH,WAAW,CAACG,KAAK,CAAC,IAAID,IAAI,CAACM,SAAS;MACxC;IACJ,CAAC,CAAC;IAEF,OAAO;MAAET,YAAY;MAAEC;IAAY,CAAC;EACxC,CAAC;EAED,MAAM;IAAED,YAAY;IAAEC;EAAY,CAAC,GAAGH,yBAAyB,CAACD,qBAAqB,CAAC;;EAEtF;EACA,MAAMa,cAAc,GAAGC,MAAM,CAACC,IAAI,CAACZ,YAAY,CAAC,CAACa,MAAM;EACvD,MAAMC,YAAY,GAAGH,MAAM,CAACI,MAAM,CAACf,YAAY,CAAC,CAACgB,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKD,GAAG,GAAGC,GAAG,EAAE,CAAC,CAAC;EACnF,MAAMC,aAAa,GAAGR,MAAM,CAACC,IAAI,CAACX,WAAW,CAAC,CAACY,MAAM;EACrD,MAAMO,cAAc,GAAGT,MAAM,CAACI,MAAM,CAACd,WAAW,CAAC,CAACe,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKD,GAAG,GAAGC,GAAG,EAAE,CAAC,CAAC;EAEpF,MAAMG,kBAAkB,GAAG;IACvBC,KAAK,EAAE;MACHC,IAAI,EAAE,QAAQ;MACdC,eAAe,EAAE,kBAAkB;MACnCC,QAAQ,EAAE;IACd,CAAC;IACDC,KAAK,EAAE;MACHC,IAAI,EAAE,mCAAmC;MACzCC,KAAK,EAAE;QAAEC,KAAK,EAAE;MAAU;IAC9B,CAAC;IACDC,QAAQ,EAAE;MACNH,IAAI,EAAE,cAAcjB,cAAc,sBAAsBI,YAAY,iBAAiBK,aAAa,wBAAwBC,cAAc,EAAE;MAC1IQ,KAAK,EAAE;QAAEC,KAAK,EAAE;MAAU;IAC9B,CAAC;IACDE,KAAK,EAAE;MACHR,IAAI,EAAE,UAAU;MAChBG,KAAK,EAAE;QACHC,IAAI,EAAE,cAAc;QACpBC,KAAK,EAAE;UAAEC,KAAK,EAAE;QAAU;MAC9B,CAAC;MACDG,MAAM,EAAE;QACJJ,KAAK,EAAE;UAAEC,KAAK,EAAE;QAAU;MAC9B;IACJ,CAAC;IACDI,KAAK,EAAE;MACHP,KAAK,EAAE;QACHC,IAAI,EAAE,2CAA2C;QACjDC,KAAK,EAAE;UAAEC,KAAK,EAAE;QAAU;MAC9B,CAAC;MACDG,MAAM,EAAE;QACJJ,KAAK,EAAE;UAAEC,KAAK,EAAE;QAAU;MAC9B;IACJ,CAAC;IACDK,OAAO,EAAE;MACLC,OAAO,EAAE,IAAI;MACbC,SAAS,EAAE,SAAAA,CAAA,EAAY;QACnB,MAAMC,IAAI,GAAG,IAAI,CAACC,MAAM,CAACC,IAAI,CAACC,QAAQ,CAAC,WAAW,CAAC,GAAG,UAAU,GAAG,SAAS;QAC5E,MAAMC,KAAK,GAAG,IAAI,CAACH,MAAM,CAACC,IAAI,CAACC,QAAQ,CAAC,WAAW,CAAC,GAC9C,mBAAmB,IAAI,CAACE,KAAK,CAACC,CAAC,EAAE,GACjC,mBAAmB,IAAI,CAACD,KAAK,CAACC,CAAC,EAAE;QACvC,OAAO;AACvB,yBAAyBN,IAAI;AAC7B,6BAA6B5C,UAAU,CAACmD,UAAU,CAAC,iBAAiB,EAAE,IAAI,CAACC,CAAC,CAAC;AAC7E,sBAAsBJ,KAAK;AAC3B,iBAAiB;MACL;IACJ,CAAC;IACDH,MAAM,EAAE,CACJ;MACIC,IAAI,EAAE,uBAAuB;MAC7BxC,IAAI,EAAEY,MAAM,CAACC,IAAI,CAACZ,YAAY,CAAC,CAAC8C,GAAG,CAAC1C,KAAK,KAAK;QAC1CyC,CAAC,EAAEE,QAAQ,CAAC3C,KAAK,CAAC;QAClB4C,CAAC,EAAEhD,YAAY,CAACI,KAAK,CAAC;QACtBuC,CAAC,EAAE3C,YAAY,CAACI,KAAK;MACzB,CAAC,CAAC,CAAC;MACHyB,KAAK,EAAE,SAAS;MAChBoB,MAAM,EAAE;QACJC,MAAM,EAAE,QAAQ;QAChBC,MAAM,EAAE;MACZ;IACJ,CAAC,EACD;MACIZ,IAAI,EAAE,0BAA0B;MAChCxC,IAAI,EAAEY,MAAM,CAACC,IAAI,CAACX,WAAW,CAAC,CAAC6C,GAAG,CAAC1C,KAAK,KAAK;QACzCyC,CAAC,EAAEE,QAAQ,CAAC3C,KAAK,CAAC;QAClB4C,CAAC,EAAE/C,WAAW,CAACG,KAAK,CAAC;QACrBuC,CAAC,EAAE1C,WAAW,CAACG,KAAK;MACxB,CAAC,CAAC,CAAC;MACHyB,KAAK,EAAE,SAAS;MAChBoB,MAAM,EAAE;QACJC,MAAM,EAAE,UAAU;QAClBC,MAAM,EAAE;MACZ;IACJ,CAAC,CACJ;IACDC,WAAW,EAAE;MACTC,MAAM,EAAE;QACJC,OAAO,EAAE,CAAC;QACVC,OAAO,EAAE;MACb;IACJ;EACJ,CAAC;EAED,oBACI5D,OAAA,CAACH,eAAe;IACZgE,UAAU,EAAE/D,UAAW;IACvBgE,OAAO,EAAEpC;EAAmB;IAAAqC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC/B,CAAC;AAEV,CAAC;AAACC,EAAA,GAzHIlE,kBAAkB;AA2HxB,eAAeA,kBAAkB;AAAC,IAAAkE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}