{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\david\\\\OneDrive\\\\Escritorio\\\\TrucoFront\\\\src\\\\components\\\\MessageList.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport RenderContent from \"./RenderContent\";\nimport \"./Chat.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageList = ({\n  mensajes,\n  userId\n}) => {\n  _s();\n  const messagesEndRef = useRef(null);\n\n  // Desplazar automáticamente al final cuando los mensajes cambien\n  const moveScroll = () => {\n    const container = document.querySelector(\".messages-container\"); // Selecciona el contenedor\n    if (container) {\n      container.scrollTop = container.scrollHeight; // Ajusta el scroll manualmente\n    }\n  };\n  // Ejecutar moveScroll cuando los mensajes cambien\n  useEffect(() => {\n    console.log(\"Mensajes recibidos en MessageList:\", mensajes);\n    moveScroll(); // Asegura el scroll cuando los mensajes cambien\n  }, [mensajes]);\n  const formatFecha = fecha => {\n    const date = new Date(fecha);\n    return `${date.toLocaleDateString()} ${date.toLocaleTimeString([], {\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    })}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"messages-container\",\n    style: {\n      flexGrow: 1,\n      overflowY: \"auto\",\n      padding: \"10px\"\n    },\n    children: [mensajes.map((msg, i) => msg.remitente.id === userId ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"own-message\",\n      children: [/*#__PURE__*/_jsxDEV(RenderContent, {\n        contenido: msg.contenido\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: 10,\n          color: \"gray\"\n        },\n        children: formatFecha(msg.fechaEnvio)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: msg.remitente.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"other-message\",\n        children: [/*#__PURE__*/_jsxDEV(RenderContent, {\n          contenido: msg.contenido\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: 10,\n            color: \"gray\"\n          },\n          children: formatFecha(msg.fechaEnvio)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: messagesEndRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(MessageList, \"0epSoi03NVSoD0I0FiLK4iVNXOA=\");\n_c = MessageList;\nMessageList.propTypes = {\n  mensajes: PropTypes.arrayOf(PropTypes.shape({\n    remitente: PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      username: PropTypes.string.isRequired\n    }).isRequired,\n    contenido: PropTypes.string.isRequired,\n    fechaEnvio: PropTypes.string.isRequired\n  }).isRequired).isRequired,\n  userId: PropTypes.number.isRequired\n};\nexport default MessageList;\nvar _c;\n$RefreshReg$(_c, \"MessageList\");","map":{"version":3,"names":["React","useRef","useEffect","PropTypes","RenderContent","jsxDEV","_jsxDEV","MessageList","mensajes","userId","_s","messagesEndRef","moveScroll","container","document","querySelector","scrollTop","scrollHeight","console","log","formatFecha","fecha","date","Date","toLocaleDateString","toLocaleTimeString","hour","minute","className","style","flexGrow","overflowY","padding","children","map","msg","i","remitente","id","contenido","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","color","fechaEnvio","username","ref","_c","propTypes","arrayOf","shape","number","isRequired","string","$RefreshReg$"],"sources":["C:/Users/david/OneDrive/Escritorio/TrucoFront/src/components/MessageList.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport RenderContent from \"./RenderContent\";\r\nimport \"./Chat.css\";\r\n\r\nconst MessageList = ({ mensajes, userId }) => {\r\n  const messagesEndRef = useRef(null);\r\n\r\n  // Desplazar automáticamente al final cuando los mensajes cambien\r\n  const moveScroll = () => {\r\n    const container = document.querySelector(\".messages-container\"); // Selecciona el contenedor\r\n    if (container) {\r\n      container.scrollTop = container.scrollHeight; // Ajusta el scroll manualmente\r\n    }\r\n  };\r\n  // Ejecutar moveScroll cuando los mensajes cambien\r\n  useEffect(() => {\r\n    console.log(\"Mensajes recibidos en MessageList:\", mensajes);\r\n    moveScroll(); // Asegura el scroll cuando los mensajes cambien\r\n  }, [mensajes]);\r\n\r\n  const formatFecha = (fecha) => {\r\n    const date = new Date(fecha);\r\n    return `${date.toLocaleDateString()} ${date.toLocaleTimeString([], {\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    })}`;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"messages-container\"\r\n      style={{ flexGrow: 1, overflowY: \"auto\", padding: \"10px\" }}\r\n    >\r\n      {mensajes.map((msg, i) => (\r\n        msg.remitente.id === userId ? (\r\n          <div key={i} className=\"own-message\">\r\n            <RenderContent contenido={msg.contenido} />\r\n            <p style={{ fontSize: 10, color: \"gray\" }}>{formatFecha(msg.fechaEnvio)}</p>\r\n          </div>\r\n        ) : (\r\n          <div key={i}>\r\n            <div>{msg.remitente.username}</div>\r\n            <div className=\"other-message\">\r\n              <RenderContent contenido={msg.contenido} />\r\n              <p style={{ fontSize: 10, color: \"gray\" }}>{formatFecha(msg.fechaEnvio)}</p>\r\n            </div>\r\n          </div>\r\n        )\r\n      ))}\r\n      {/* Referencia para el desplazamiento automático */}\r\n      <div ref={messagesEndRef} />\r\n    </div>\r\n  );\r\n};\r\n\r\nMessageList.propTypes = {\r\n  mensajes: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      remitente: PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n        username: PropTypes.string.isRequired,\r\n      }).isRequired,\r\n      contenido: PropTypes.string.isRequired,\r\n      fechaEnvio: PropTypes.string.isRequired,\r\n    }).isRequired\r\n  ).isRequired,\r\n  userId: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default MessageList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}