{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\david\\\\OneDrive\\\\Escritorio\\\\TrucoFront\\\\src\\\\components\\\\RenderContent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport PartidaView from './PartidaView'; // Asegúrate de importar PartidaView\nimport tokenService from '../services/token.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst jwt = tokenService.getLocalAccessToken();\nfunction RenderContent({\n  contenido\n}) {\n  _s();\n  const [res, setRes] = useState(contenido);\n  const urlActual = window.location.href;\n  useEffect(() => {\n    if (contenido.search(/{[A-Z0-9]{5}}/) !== -1 && !urlActual.includes(\"partidaCode=\")) {\n      let codigo = contenido.match(/{[A-Z0-9]{5}}/)[0].slice(1, -1);\n      fetch(\"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/partida/search?codigo=\" + codigo, {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${jwt}`,\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.json()).then(data => {\n        if (data.statusCode === 404) {\n          setRes(/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Partida no encontrada\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 20\n          }, this));\n        } else {\n          setRes(/*#__PURE__*/_jsxDEV(PartidaView, {\n            game: data,\n            interfaz: \"chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 20\n          }, this));\n        }\n      }).catch(message => {\n        setRes(/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Error al cargar la invitaci\\xF3n a la partida \", codigo]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 18\n        }, this));\n      });\n    } else {\n      setRes(/*#__PURE__*/_jsxDEV(\"p\", {\n        children: contenido\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 14\n      }, this));\n    }\n  }, [contenido]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: res\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(RenderContent, \"fmclpRb0Ua6Zq5/vat/ttsZ8rrU=\");\n_c = RenderContent;\nexport default RenderContent;\nvar _c;\n$RefreshReg$(_c, \"RenderContent\");","map":{"version":3,"names":["React","useState","useEffect","PartidaView","tokenService","jsxDEV","_jsxDEV","jwt","getLocalAccessToken","RenderContent","contenido","_s","res","setRes","urlActual","window","location","href","search","includes","codigo","match","slice","fetch","method","headers","Authorization","Accept","then","response","json","data","statusCode","children","fileName","_jsxFileName","lineNumber","columnNumber","game","interfaz","catch","message","_c","$RefreshReg$"],"sources":["C:/Users/david/OneDrive/Escritorio/TrucoFront/src/components/RenderContent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PartidaView from './PartidaView'; // Asegúrate de importar PartidaView\r\nimport tokenService from '../services/token.service';\r\n\r\nconst jwt = tokenService.getLocalAccessToken()\r\nfunction RenderContent({ contenido }) {\r\n  const [res, setRes] = useState(contenido);\r\n  const urlActual = window.location.href;\r\n\r\n  useEffect(() => {\r\n    if (contenido.search(/{[A-Z0-9]{5}}/) !== -1 && !urlActual.includes(\"partidaCode=\")) {\r\n      let codigo = contenido.match(/{[A-Z0-9]{5}}/)[0].slice(1, -1);\r\n      fetch(\"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/partida/search?codigo=\" + codigo, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Authorization: `Bearer ${jwt}`,\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        }\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if(data.statusCode===404){\r\n            setRes(<p>Partida no encontrada</p>);\r\n          }else{\r\n            setRes(<PartidaView game={data} interfaz='chat' />);\r\n          }\r\n          \r\n        })\r\n        .catch((message) => {\r\n          setRes(<p>Error al cargar la invitación a la partida {codigo}</p>);\r\n        });\r\n    } else {\r\n      setRes(<p>{contenido}</p>);\r\n    }\r\n  }, [contenido]);\r\n\r\n  return (\r\n    <div>{res}</div>\r\n  );\r\n}\r\n\r\nexport default RenderContent;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,WAAW,MAAM,eAAe,CAAC,CAAC;AACzC,OAAOC,YAAY,MAAM,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,GAAG,GAAGH,YAAY,CAACI,mBAAmB,CAAC,CAAC;AAC9C,SAASC,aAAaA,CAAC;EAAEC;AAAU,CAAC,EAAE;EAAAC,EAAA;EACpC,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGZ,QAAQ,CAACS,SAAS,CAAC;EACzC,MAAMI,SAAS,GAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI;EAEtCf,SAAS,CAAC,MAAM;IACd,IAAIQ,SAAS,CAACQ,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,IAAI,CAACJ,SAAS,CAACK,QAAQ,CAAC,cAAc,CAAC,EAAE;MACnF,IAAIC,MAAM,GAAGV,SAAS,CAACW,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAC7DC,KAAK,CAAC,mGAAmG,GAAGH,MAAM,EAAE;QAClHI,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUnB,GAAG,EAAE;UAC9BoB,MAAM,EAAE,kBAAkB;UAC1B,cAAc,EAAE;QAClB;MACF,CAAC,CAAC,CACCC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;QACd,IAAGA,IAAI,CAACC,UAAU,KAAG,GAAG,EAAC;UACvBnB,MAAM,cAACP,OAAA;YAAA2B,QAAA,EAAG;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,CAAC;QACtC,CAAC,MAAI;UACHxB,MAAM,cAACP,OAAA,CAACH,WAAW;YAACmC,IAAI,EAAEP,IAAK;YAACQ,QAAQ,EAAC;UAAM;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,CAAC;QACrD;MAEF,CAAC,CAAC,CACDG,KAAK,CAAEC,OAAO,IAAK;QAClB5B,MAAM,cAACP,OAAA;UAAA2B,QAAA,GAAG,gDAA2C,EAACb,MAAM;QAAA;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,CAAC;MACpE,CAAC,CAAC;IACN,CAAC,MAAM;MACLxB,MAAM,cAACP,OAAA;QAAA2B,QAAA,EAAIvB;MAAS;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,CAAC;IAC5B;EACF,CAAC,EAAE,CAAC3B,SAAS,CAAC,CAAC;EAEf,oBACEJ,OAAA;IAAA2B,QAAA,EAAMrB;EAAG;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AAEpB;AAAC1B,EAAA,CAnCQF,aAAa;AAAAiC,EAAA,GAAbjC,aAAa;AAqCtB,eAAeA,aAAa;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}