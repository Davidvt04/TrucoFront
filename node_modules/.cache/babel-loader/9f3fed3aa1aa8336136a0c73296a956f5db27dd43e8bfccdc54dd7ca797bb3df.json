{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\david\\\\OneDrive\\\\Escritorio\\\\TrucoFront\\\\src\\\\auth\\\\register\\\\index.js\",\n  _s = $RefreshSig$();\nimport \"../../static/css/auth/authButton.css\";\nimport \"../../static/css/auth/authPage.css\";\nimport tokenService from \"../../services/token.service\";\nimport FormGenerator from \"../../components/formGenerator/formGenerator\";\nimport { registerFormInputs } from \"./form/registerForm\";\nimport { useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  let [type, setType] = useState(null);\n  let [authority, setAuthority] = useState(null);\n  const registerFormRef = useRef();\n  function handleButtonClick(event) {\n    const target = event.target;\n    let value = target.value;\n    if (value === \"Back\") value = null;else setAuthority(value);\n    setType(value);\n  }\n  function handleSubmit({\n    values\n  }) {\n    if (!registerFormRef.current.validate()) return;\n    const request = values;\n    request[\"authority\"] = authority;\n    let state = \"\";\n    fetch(\"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/auth/signup\", {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      body: JSON.stringify(request)\n    }).then(function (response) {\n      if (response.status === 200) {\n        const loginRequest = {\n          username: request.username,\n          password: request.password\n        };\n        fetch(\"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/auth/signin\", {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          method: \"POST\",\n          body: JSON.stringify(loginRequest)\n        }).then(function (response) {\n          if (response.status === 200) {\n            state = \"200\";\n            return response.json();\n          } else {\n            state = \"\";\n            return response.json();\n          }\n        }).then(function (data) {\n          if (state !== \"200\") alert(data.message);else {\n            tokenService.setUser(data);\n            tokenService.updateLocalAccessToken(data.token);\n            window.location.href = \"/\";\n          }\n        }).catch(message => {\n          alert(message);\n        });\n      }\n    }).catch(message => {\n      alert(message);\n    });\n  }\n  if (type) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingTop: '1px',\n        backgroundImage: 'url(/fondos/fondoRegistrarse.jpg)',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        height: '100vh',\n        width: '100vw'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-page-container\",\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'flex-start',\n          alignItems: 'center',\n          paddingTop: '50px',\n          paddingBottom: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"loginText\",\n          style: {\n            top: '5%',\n            position: 'absolute'\n          },\n          children: \"Registrarse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-form-container\",\n          style: {\n            width: '100%',\n            maxWidth: '400px',\n            top: '5%',\n            position: 'fixed'\n          },\n          children: /*#__PURE__*/_jsxDEV(FormGenerator, {\n            ref: registerFormRef,\n            inputs: registerFormInputs,\n            onSubmit: handleSubmit,\n            numberOfColumns: 1,\n            listenEnterKey: true,\n            buttonText: \"Save\",\n            buttonClassName: \"auth-button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingTop: '1px',\n        backgroundImage: 'url(/fondos/fondoRegistrarse.jpg)',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        height: '100vh',\n        width: '100vw'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-page-container\",\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'flex-start',\n          alignItems: 'center',\n          paddingTop: '50px',\n          // Espaciado en la parte superior para no solapar\n          paddingBottom: '30px' // Espaciado inferior para el layout general\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"loginText\",\n          children: \"Registrarse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"loginText\",\n          style: {\n            marginLeft: \"58%\"\n          },\n          children: \"\\xBFCu\\xE1l ser\\xE1 la autoridad de tu usuario?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"options-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"auth-button\",\n            value: \"PLAYER\",\n            onClick: handleButtonClick,\n            children: \"Usuario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"auth-button\",\n            value: \"ADMIN\",\n            onClick: handleButtonClick,\n            children: \"Administrador\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(Register, \"C0Runpibsmf0UK2uhQFTzGiwA5o=\");\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["tokenService","FormGenerator","registerFormInputs","useRef","useState","jsxDEV","_jsxDEV","Register","_s","type","setType","authority","setAuthority","registerFormRef","handleButtonClick","event","target","value","handleSubmit","values","current","validate","request","state","fetch","headers","method","body","JSON","stringify","then","response","status","loginRequest","username","password","json","data","alert","message","setUser","updateLocalAccessToken","token","window","location","href","catch","style","paddingTop","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","height","width","children","className","display","flexDirection","justifyContent","alignItems","paddingBottom","top","position","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","ref","inputs","onSubmit","numberOfColumns","listenEnterKey","buttonText","buttonClassName","marginLeft","onClick","_c","$RefreshReg$"],"sources":["C:/Users/david/OneDrive/Escritorio/TrucoFront/src/auth/register/index.js"],"sourcesContent":["import \"../../static/css/auth/authButton.css\";\r\nimport \"../../static/css/auth/authPage.css\";\r\n\r\nimport tokenService from \"../../services/token.service\";\r\nimport FormGenerator from \"../../components/formGenerator/formGenerator\";\r\nimport { registerFormInputs } from \"./form/registerForm\";\r\nimport { useRef, useState } from \"react\";\r\n\r\n\r\nexport default function Register() {\r\n  let [type, setType] = useState(null);\r\n  let [authority, setAuthority] = useState(null);\r\n\r\n  const registerFormRef = useRef();\r\n\r\n  function handleButtonClick(event) {\r\n    const target = event.target;\r\n    let value = target.value;\r\n    if (value === \"Back\") value = null;\r\n    else setAuthority(value);\r\n    setType(value);\r\n  }\r\n\r\n  function handleSubmit({ values }) {\r\n    if (!registerFormRef.current.validate()) return;\r\n\r\n    const request = values;\r\n    request[\"authority\"] = authority;\r\n    let state = \"\";\r\n\r\n    fetch(\"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/auth/signup\", {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      method: \"POST\",\r\n      body: JSON.stringify(request),\r\n    })\r\n      .then(function (response) {\r\n        if (response.status === 200) {\r\n          const loginRequest = {\r\n            username: request.username,\r\n            password: request.password,\r\n          };\r\n\r\n          fetch(\"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/auth/signin\", {\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            method: \"POST\",\r\n            body: JSON.stringify(loginRequest),\r\n          })\r\n            .then(function (response) {\r\n              if (response.status === 200) {\r\n                state = \"200\";\r\n                return response.json();\r\n              } else {\r\n                state = \"\";\r\n                return response.json();\r\n              }\r\n            })\r\n            .then(function (data) {\r\n              if (state !== \"200\") alert(data.message);\r\n              else {\r\n                tokenService.setUser(data);\r\n                tokenService.updateLocalAccessToken(data.token);\r\n                window.location.href = \"/\";\r\n              }\r\n            })\r\n            .catch((message) => {\r\n              alert(message);\r\n            });\r\n        }\r\n      })\r\n      .catch((message) => {\r\n        alert(message);\r\n      });\r\n  }\r\n\r\n  if (type) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          paddingTop: '1px',\r\n          backgroundImage: 'url(/fondos/fondoRegistrarse.jpg)', \r\n          backgroundSize: 'cover', \r\n          backgroundRepeat: 'no-repeat', \r\n          backgroundPosition: 'center', \r\n          height: '100vh', \r\n          width: '100vw' \r\n        }}\r\n      >\r\n        <div \r\n          className=\"auth-page-container\" \r\n          style={{ \r\n            display: 'flex', \r\n            flexDirection: 'column', \r\n            justifyContent: 'flex-start', \r\n            alignItems: 'center', \r\n            paddingTop: '50px', \r\n            paddingBottom: '30px' \r\n          }}\r\n        >\r\n          <h1 className=\"loginText\" style={{\r\n                top: '5%',\r\n                position: 'absolute',\r\n               \r\n              }}\r\n            >Registrarse</h1>\r\n\r\n          <div className=\"auth-form-container\" style={{ width: '100%', maxWidth: '400px', top:'5%', position:'fixed'}}>  \r\n            <FormGenerator\r\n              ref={registerFormRef}\r\n              inputs={registerFormInputs}\r\n              onSubmit={handleSubmit}\r\n              numberOfColumns={1}\r\n              listenEnterKey\r\n              buttonText=\"Save\"\r\n              buttonClassName=\"auth-button\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div \r\n        style={{ \r\n          paddingTop: '1px',\r\n          backgroundImage: 'url(/fondos/fondoRegistrarse.jpg)', \r\n          backgroundSize: 'cover', \r\n          backgroundRepeat: 'no-repeat', \r\n          backgroundPosition: 'center', \r\n          height: '100vh', \r\n          width: '100vw' \r\n        }}\r\n      >\r\n        <div \r\n          className=\"auth-page-container\" \r\n          style={{ \r\n            display: 'flex', \r\n            flexDirection: 'column', \r\n            justifyContent: 'flex-start', \r\n            alignItems: 'center', \r\n            paddingTop: '50px', // Espaciado en la parte superior para no solapar\r\n            paddingBottom: '30px'  // Espaciado inferior para el layout general\r\n          }}\r\n        >\r\n          <h1 className=\"loginText\">Registrarse</h1>\r\n          <h2 className=\"loginText\" style={{marginLeft:\"58%\"}}>\r\n            ¿Cuál será la autoridad de tu usuario?\r\n          </h2>\r\n          <div className=\"options-row\">\r\n            <button\r\n              className=\"auth-button\"\r\n              value=\"PLAYER\"\r\n              onClick={handleButtonClick}\r\n            >\r\n              Usuario\r\n            </button>\r\n            <button\r\n              className=\"auth-button\"\r\n              value=\"ADMIN\"\r\n              onClick={handleButtonClick}\r\n            >\r\n              Administrador\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}