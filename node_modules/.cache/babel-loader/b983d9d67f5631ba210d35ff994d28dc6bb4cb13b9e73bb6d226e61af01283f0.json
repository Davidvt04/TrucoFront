{"ast":null,"code":"import { Parser } from 'apg-lite';\nimport Grammar from \"../../../grammar.mjs\";\nimport { percentEncodeChar } from \"../../../utils.mjs\";\nconst parser = new Parser();\nconst grammar = new Grammar();\nconst cookieValueStrictEncoder = cookieValue => {\n  const value = String(cookieValue);\n\n  // detect if the value is quoted\n  const isQuoted = value.length >= 2 && value.startsWith('\"') && value.endsWith('\"');\n\n  // remove quotes if present for processing\n  const valueToEncode = isQuoted ? value.slice(1, -1) : value;\n  let result = '';\n  for (const char of valueToEncode) {\n    result += parser.parse(grammar, 'cookie-octet', char).success ? char : percentEncodeChar(char);\n  }\n\n  // return quoted if input was quoted, unquoted otherwise\n  return isQuoted ? `\"${result}\"` : result;\n};\nexport default cookieValueStrictEncoder;","map":{"version":3,"names":["Parser","Grammar","percentEncodeChar","parser","grammar","cookieValueStrictEncoder","cookieValue","value","String","isQuoted","length","startsWith","endsWith","valueToEncode","slice","result","char","parse","success"],"sources":["C:/Users/david/OneDrive/Escritorio/TrucoFront/node_modules/@swaggerexpert/cookie/es/set-cookie/serialize/encoders/cookie-value-strict.mjs"],"sourcesContent":["import { Parser } from 'apg-lite';\nimport Grammar from \"../../../grammar.mjs\";\nimport { percentEncodeChar } from \"../../../utils.mjs\";\nconst parser = new Parser();\nconst grammar = new Grammar();\nconst cookieValueStrictEncoder = cookieValue => {\n  const value = String(cookieValue);\n\n  // detect if the value is quoted\n  const isQuoted = value.length >= 2 && value.startsWith('\"') && value.endsWith('\"');\n\n  // remove quotes if present for processing\n  const valueToEncode = isQuoted ? value.slice(1, -1) : value;\n  let result = '';\n  for (const char of valueToEncode) {\n    result += parser.parse(grammar, 'cookie-octet', char).success ? char : percentEncodeChar(char);\n  }\n\n  // return quoted if input was quoted, unquoted otherwise\n  return isQuoted ? `\"${result}\"` : result;\n};\nexport default cookieValueStrictEncoder;"],"mappings":"AAAA,SAASA,MAAM,QAAQ,UAAU;AACjC,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,SAASC,iBAAiB,QAAQ,oBAAoB;AACtD,MAAMC,MAAM,GAAG,IAAIH,MAAM,CAAC,CAAC;AAC3B,MAAMI,OAAO,GAAG,IAAIH,OAAO,CAAC,CAAC;AAC7B,MAAMI,wBAAwB,GAAGC,WAAW,IAAI;EAC9C,MAAMC,KAAK,GAAGC,MAAM,CAACF,WAAW,CAAC;;EAEjC;EACA,MAAMG,QAAQ,GAAGF,KAAK,CAACG,MAAM,IAAI,CAAC,IAAIH,KAAK,CAACI,UAAU,CAAC,GAAG,CAAC,IAAIJ,KAAK,CAACK,QAAQ,CAAC,GAAG,CAAC;;EAElF;EACA,MAAMC,aAAa,GAAGJ,QAAQ,GAAGF,KAAK,CAACO,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAGP,KAAK;EAC3D,IAAIQ,MAAM,GAAG,EAAE;EACf,KAAK,MAAMC,IAAI,IAAIH,aAAa,EAAE;IAChCE,MAAM,IAAIZ,MAAM,CAACc,KAAK,CAACb,OAAO,EAAE,cAAc,EAAEY,IAAI,CAAC,CAACE,OAAO,GAAGF,IAAI,GAAGd,iBAAiB,CAACc,IAAI,CAAC;EAChG;;EAEA;EACA,OAAOP,QAAQ,GAAG,IAAIM,MAAM,GAAG,GAAGA,MAAM;AAC1C,CAAC;AACD,eAAeV,wBAAwB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}