{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\david\\\\OneDrive\\\\Escritorio\\\\TrucoFront\\\\src\\\\manos\\\\PlayingModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, forwardRef, useEffect, useRef } from 'react';\nimport tokenService from \"../services/token.service.js\";\nimport useFetchState from \"../util/useFetchState.js\";\nimport CartasVolteadas from './CartasVolteadas.js';\nimport Perfil from './Perfil.js';\nimport \"../static/css/mano/PlayingModal.css\";\nimport backgroundMusic from '../static/audios/musicaPartida2.mp3';\nimport PuntosComponente from './PuntosComponente.js';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst jwt = tokenService.getLocalAccessToken();\nconst usuario = tokenService.getUser();\nconst PlayingModal = /*#__PURE__*/_s(/*#__PURE__*/forwardRef(_c = _s((props, ref) => {\n  _s();\n  const game = props.game;\n  const [message, setMessage] = useState(null);\n  const [visible, setVisible] = useState(false);\n  const [cartasJugador, setCartasJugador] = useState([]);\n  const [mano, setMano] = useState(null); // mano inicialmente es null\n\n  //MENSAJES Y CUADRO DEL ENVIDO\n  const [ultimoMensaje, setUltimoMensaje] = useState(null);\n  const [resolucionEnvido, setResolucionEnvido] = useState(false);\n  const [resolucionEnvidoFlor, setResolucionEnvidoFlor] = useState(false);\n  const [cantoDicho, setCantoDicho] = useState(false);\n  const [envidosJugadores, setEnvidosJugadores] = useState([]);\n  const [envidosFlorJugadores, setEnvidosFlorJugadores] = useState([]);\n  const puntosSinTruco = 1;\n  const puntosConTruco = 2;\n  const puntosConRetruco = 3;\n  const [puntosTrucoActuales, setPuntosTrucoActuales] = useState(puntosSinTruco);\n  const [tirarTrigger, setTirarTrigger] = useState(0);\n  const [trucoTrigger, setTrucoTrigger] = useState(0);\n  const [envidoTrigger, setEnvidoTrigger] = useState(0);\n  const [florTrigger, setFlorTrigger] = useState(0);\n  const [posicion, setPosicion] = useFetchState({}, `/api/v1/partidajugador/miposicion/${game.id}/${usuario.id}`, jwt, setMessage, setVisible);\n  const [nombresJugadores, setNombresJugadores] = useState([]);\n  const eresEspectador = typeof posicion === 'object';\n  const audioRef = useRef(null);\n  const dropAreaRef = useRef(null);\n  const [isOverDropArea, setIsOverDropArea] = useState(false);\n  const [draggedCarta, setDraggedCarta] = useState(null);\n  const [positionCarta, setPositionCarta] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [volumeVisible, setVolumeVisible] = useState(false);\n  const [volume, setVolume] = useState(50); // Default volume at 50%\n\n  function fetchMano() {\n    fetch('https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/' + game.codigo, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    }).then(response => response.json()).then(data => {\n      setMano(data); // Asignamos 'data' a mano\n      let cartasActuales = data.cartasDisp[posicion];\n      if (JSON.stringify(cartasJugador) !== JSON.stringify(cartasActuales)) {\n        setCartasJugador(cartasActuales);\n        setPuntosTrucoActuales(data.puntosTruco);\n      }\n      if (data.envidosCadaJugador) {\n        setEnvidosJugadores(data.envidosCadaJugador.map(envido => envido === null ? 'Son buenas' : envido));\n      }\n      if (data.envidosFlorCadaJugador) {\n        setEnvidosFlorJugadores(data.envidosFlorCadaJugador.map(envidoflor => envidoflor === null ? 'Son buenas' : envidoflor));\n      }\n\n      // Actualizamos el ultimoMensaje si ha cambiado\n      setUltimoMensaje(prevUltimoMensaje => {\n        if (data.ultimoMensaje !== prevUltimoMensaje) {\n          return data.ultimoMensaje;\n        }\n        return prevUltimoMensaje;\n      });\n    }).catch(error => {\n      console.error(\"Error fetching mano:\", error);\n      setMessage(\"Error fetching mano.\");\n      setVisible(true);\n    });\n  }\n  function mostrarMensaje() {\n    if (ultimoMensaje === \"LISTA_ENVIDOS\") {\n      setResolucionEnvido(true);\n      const timeoutId = setTimeout(() => setResolucionEnvido(false), 7000);\n      return () => clearTimeout(timeoutId);\n    } else if (ultimoMensaje === \"LISTA_ENVIDOS_FLOR\") {\n      setResolucionEnvidoFlor(true);\n      const timeoutId = setTimeout(() => setResolucionEnvidoFlor(false), 7000);\n      return () => clearTimeout(timeoutId);\n    } else if (ultimoMensaje !== null) {\n      setCantoDicho(true);\n      const timeoutId = setTimeout(() => setCantoDicho(false), 5000);\n      return () => clearTimeout(timeoutId);\n    }\n  }\n  useEffect(() => {\n    mostrarMensaje();\n  }, [ultimoMensaje]);\n  useEffect(() => {\n    let intervalId;\n    mostrarMensaje();\n    fetchMano();\n    intervalId = setInterval(fetchMano, 1000);\n    function fetchPlayerNames() {\n      fetch('https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/partidajugador/players?partidaCode=' + game.codigo, {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      }).then(response => response.json()).then(data => {\n        const nombres = data.map(partidaJugador => partidaJugador.player.userName);\n        setNombresJugadores(nombres);\n      });\n    }\n    fetchPlayerNames();\n    return () => clearInterval(intervalId);\n  }, [game.codigo, posicion]);\n  useEffect(() => {\n    fetchMano();\n  }, [tirarTrigger, trucoTrigger, envidoTrigger, florTrigger]);\n  useEffect(() => {\n    // Cuando mano cambie y no sea null, actualizamos puntosTrucoActuales\n    if (mano && mano.puntosTruco) {\n      setPuntosTrucoActuales(mano.puntosTruco);\n    }\n  }, [mano]);\n\n  // Set initial volume\n  useEffect(() => {\n    if (audioRef.current) {\n      audioRef.current.volume = volume / 100;\n    }\n  }, [volume]);\n  const handlePlayMusic = () => {\n    if (audioRef.current) {\n      audioRef.current.play().then(() => {\n        setIsPlaying(true);\n        setVolumeVisible(true);\n      }).catch(error => {\n        console.error(\"Error playing audio:\", error);\n      });\n    }\n  };\n  const handlePauseMusic = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      setIsPlaying(false);\n    }\n  };\n  const handleVolumeChange = event => {\n    const sliderValue = event.target.value;\n    const minLog = 0.01; // Volumen más bajo\n    const maxLog = 1;\n    const logVolume = Math.pow(10, sliderValue / 100 * (Math.log10(maxLog) - Math.log10(minLog)) + Math.log10(minLog));\n    setVolume(sliderValue);\n    if (audioRef.current) {\n      audioRef.current.volume = logVolume;\n    }\n  };\n  const dragStart = (evento, carta) => {\n    // Chequeamos que mano no sea null\n    if (mano && cartasJugador && Number(posicion) === mano.jugadorTurno) {\n      setDraggedCarta(carta);\n      evento.dataTransfer.effectAllowed = 'move';\n    }\n  };\n  const onDrag = evento => {\n    const x = evento.clientX;\n    const y = evento.clientY;\n    setPositionCarta({\n      x,\n      y\n    });\n    if (dropAreaRef.current) {\n      const dropAreaRect = dropAreaRef.current.getBoundingClientRect();\n      const isOver = x >= dropAreaRect.left && x <= dropAreaRect.right && y >= dropAreaRect.top && y <= dropAreaRect.bottom;\n      setIsOverDropArea(isOver);\n    }\n  };\n  const onDragEnd = (evento, carta) => {\n    const x = evento.clientX;\n    const y = evento.clientY;\n    if (dropAreaRef.current) {\n      const dropAreaRect = dropAreaRef.current.getBoundingClientRect();\n      const isOver = x >= dropAreaRect.left && x <= dropAreaRect.right && y >= dropAreaRect.top && y <= dropAreaRect.bottom;\n      if (isOver) {\n        tirarCarta(carta.id);\n      }\n    }\n    setDraggedCarta(null);\n    setIsOverDropArea(false);\n  };\n  function tirarCarta(cartaId) {\n    fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/tirarCarta/${cartaId}`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.text()).then(data => {\n      if (data) {\n        setTirarTrigger(prev => prev + 1);\n      }\n    }).catch(error => alert(error.message));\n  }\n  function cantarTruco(truco) {\n    fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/cantarTruco/${truco}`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.text()).then(data => {\n      if (data) {\n        setTrucoTrigger(prev => prev + 1);\n      }\n    }).catch(error => alert(error.message));\n  }\n  function responderTruco(respuesta) {\n    fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/responderTruco/${respuesta}`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.text()).then(data => {\n      if (data) {\n        setTrucoTrigger(prev => prev + 1);\n      }\n    }).catch(error => alert(error.message));\n  }\n  function cantarEnvido(respuesta) {\n    fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/cantarEnvido/${respuesta}`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.text()).then(data => {\n      if (data) {\n        setEnvidoTrigger(prev => prev + 1);\n      }\n    }).catch(error => alert(error.message));\n  }\n  function cantarFlor(respuesta) {\n    fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/cantarFlor/${respuesta}`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.text()).then(data => {\n      if (data) {\n        setFlorTrigger(prev => prev + 1);\n      }\n    }).catch(error => alert(error.message));\n  }\n  function responderEnvido(respuesta) {\n    fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/responderEnvido/${respuesta}`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.text()).then(data => {\n      if (data) {\n        setEnvidoTrigger(prev => prev + 1);\n      }\n    }).catch(error => alert(error.message));\n  }\n  function responderFlor(respuesta) {\n    fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/responderFlor/${respuesta}`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.text()).then(data => {\n      if (data) {\n        setFlorTrigger(prev => prev + 1);\n      }\n    }).catch(error => alert(error.message));\n  }\n\n  // NUEVO: Función para renderizar Cartas del Jugador\n  const renderCartasJugador = () => {\n    if (!mano) {\n      // Si mano es null, no retorna nada\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Cargando mano...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 20\n      }, this);\n    }\n    if (!mano.cartasDisp) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Cargando cartas del jugador...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 20\n      }, this);\n    }\n    const cartasJugador = mano.cartasDisp[posicion];\n    const esTurnoValido = mano && cartasJugador && Number(posicion) === mano.jugadorTurno && !mano.esperandoRespuesta;\n    if (!cartasJugador) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 20\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cartas-jugador-container\",\n      children: cartasJugador.map((carta, index) => carta && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `card-container ${esTurnoValido ? 'swirl' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `base-card ${!esTurnoValido ? 'invalid-turn' : ''}`,\n          draggable: esTurnoValido,\n          onDragStart: evento => dragStart(evento, carta),\n          onDrag: evento => onDrag(evento),\n          onDragEnd: evento => onDragEnd(evento, carta),\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => tirarCarta(carta.id),\n            style: {\n              border: 'none',\n              outline: 'none',\n              background: 'none',\n              padding: 0,\n              margin: 0,\n              cursor: 'pointer'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: carta.foto,\n              alt: `Carta ${index + 1}`,\n              className: \"card-image\",\n              onError: e => e.target.style.display = 'none'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sunset-overlay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 29\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 13\n    }, this);\n  };\n\n  // NUEVO: Función para renderizar cartas en mesa\n  const renderCartasMesa = () => {\n    if (!mano) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Cargando mano...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 20\n      }, this);\n    }\n    if (!mano.cartasLanzadasTotales) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No hay cartas para mostrar.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 20\n      }, this);\n    }\n    const cartasLanzadasTotales = mano.cartasLanzadasTotales;\n    if (cartasLanzadasTotales.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No hay cartas para mostrar.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 20\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cartas-mesa-container\",\n      children: cartasLanzadasTotales.map((cartasJugador, jugadorIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"jugador-cartas\",\n        children: cartasJugador.map((carta, rondaIndex) => carta && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-container mesa\",\n          style: {\n            transform: `translateY(-${rondaIndex * -15}px)`,\n            position: 'relative',\n            zIndex: 10 + rondaIndex\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: carta.foto,\n            alt: `Carta Ronda ${rondaIndex + 1}`,\n            className: \"card-image\",\n            onError: e => e.target.style.display = 'none'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sunset-overlay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 37\n          }, this)]\n        }, rondaIndex, true, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 33\n        }, this))\n      }, jugadorIndex, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 13\n    }, this);\n  };\n\n  // AQUÍ empieza el **return** principal del componente\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"playing-modal-container\",\n      children: [!mano && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'white'\n        },\n        children: \"Cargando mano...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 21\n      }, this), mano && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundImage: 'url(/fondos/fondoPlayingModal.jpg)',\n            backgroundSize: 'cover',\n            backgroundRepeat: 'no-repeat',\n            backgroundPosition: 'center',\n            height: '19000vh',\n            width: '100vw',\n            position: 'relative',\n            zIndex: -1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"player-heading\",\n            children: eresEspectador ? \"Viendo la partida...\" : `Jugador: ${Number(posicion)}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 29\n          }, this), !volumeVisible && /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"turno-heading\",\n            children: mano !== null && mano !== void 0 && mano.esperandoRespuesta && (mano === null || mano === void 0 ? void 0 : mano.jugadorTurno) === posicion ? \"Tenés que responder\" : (mano === null || mano === void 0 ? void 0 : mano.jugadorTurno) === posicion ? \"Es tu turno\" : \"No es tu turno\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 47\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"puntos-nuestros\",\n          children: eresEspectador ? \"E1:\" : \"Nos:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"puntos-ellos\",\n          children: eresEspectador ? \"E2:\" : \"Ellos:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 25\n        }, this), puntosTrucoActuales && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            overflow: 'hidden'\n          },\n          children: [/*#__PURE__*/_jsxDEV(PuntosComponente, {\n            estiloFotoPunto: \"puntaje-EquipoNuestro\",\n            posicion: posicion,\n            puntosEquipo1: game.puntosEquipo1,\n            puntosEquipo2: game.puntosEquipo2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(PuntosComponente, {\n            estiloFotoPunto: \"puntaje-EquipoEllos\",\n            posicion: posicion,\n            puntosEquipo1: game.puntosEquipo2,\n            puntosEquipo2: game.puntosEquipo1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: dropAreaRef,\n          className: \"drop-area\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 25\n        }, this), !isPlaying && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePlayMusic,\n          className: \"play-music-button\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"swirl-glow-textMusica\",\n            children: \" \\uD83C\\uDFB5 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 29\n        }, this), isPlaying && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePauseMusic,\n            className: \"play-music-button\",\n            children: \"\\u23F8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              top: \"10%\",\n              position: \"absolute\"\n            },\n            onClick: () => setVolumeVisible(!volumeVisible),\n            className: \"play-music-button\",\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 33\n          }, this), volumeVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"volume-slider-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"volume-slider\",\n              children: \"Volume:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              id: \"volume-slider\",\n              min: \"0\",\n              max: \"100\",\n              value: volume,\n              onChange: handleVolumeChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [volume, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"audio\", {\n          ref: audioRef,\n          src: backgroundMusic,\n          loop: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 25\n        }, this), renderCartasJugador(), draggedCarta && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `dragged-card ${Number(posicion) === mano.jugadorTurno ? 'swirl' : ''}`,\n          style: {\n            left: `${positionCarta.x - 50}px`,\n            top: `${positionCarta.y - 75}px`,\n            opacity: isOverDropArea ? 1 : 0.5,\n            pointerEvents: 'none',\n            position: 'fixed',\n            zIndex: 1000\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: draggedCarta.foto,\n            alt: \"Carta arrastrada\",\n            className: \"card-image\",\n            onError: e => e.target.style.display = 'none'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sunset-overlay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cartas-mesa-position\",\n          children: renderCartasMesa()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            left: '52%',\n            top: '30%',\n            transform: 'translateX(-50%)',\n            zIndex: 1000\n          },\n          children: resolucionEnvido && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"res-envido-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"swirl-glow-text2\",\n              style: {\n                marginTop: 12\n              },\n              children: \"Resoluci\\xF3n de Envido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              style: {\n                color: mano.equipoGanadorEnvido === posicion % 2 ? 'white' : 'black',\n                margin: '3px 0',\n                fontStyle: 'italic'\n              },\n              children: mano.equipoGanadorEnvido === posicion % 2 ? '¡Ganaste!' : 'Perdiste...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 37\n            }, this), envidosJugadores.map((envido, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: '9px 0'\n              },\n              children: [index === posicion ? \"Vos\" : nombresJugadores[index], \": \", envido]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 41\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            left: '52%',\n            top: '30%',\n            transform: 'translateX(-50%)',\n            zIndex: 1000\n          },\n          children: resolucionEnvidoFlor && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"res-envido-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"swirl-glow-text2\",\n              style: {\n                marginTop: 12\n              },\n              children: \"Resoluci\\xF3n de Envido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              style: {\n                color: mano.equipoGanadorEnvido === posicion % 2 ? 'white' : 'black',\n                margin: '3px 0',\n                fontStyle: 'italic'\n              },\n              children: mano.equipoGanadorEnvido === posicion % 2 ? '¡Ganaste!' : 'Perdiste...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 37\n            }, this), envidosFlorJugadores.map((envidoflor, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: '9px 0'\n              },\n              children: [index === posicion ? \"Vos\" : nombresJugadores[index], \": \", envidoflor]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 41\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            left: '50%',\n            top: '39%',\n            transform: 'translateX(-50%)',\n            zIndex: 1000\n          },\n          children: cantoDicho && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cuadros-canto\",\n            children: ultimoMensaje && /*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                color: \"darkorange\"\n              },\n              children: ultimoMensaje.replace(\"_\", \" \").replace(\"2\", \"\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'row'\n          },\n          children: [(mano === null || mano === void 0 ? void 0 : mano.cartasDisp) && Number(posicion) === (mano === null || mano === void 0 ? void 0 : mano.jugadorTurno) && !(mano !== null && mano !== void 0 && mano.esperandoRespuesta) && (mano === null || mano === void 0 ? void 0 : mano.puedeCantarTruco) && puntosTrucoActuales && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"truco-button-container\",\n            children: [puntosTrucoActuales === puntosSinTruco && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => cantarTruco('TRUCO'),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"swirl-glow-text\",\n                children: \"\\xA1Truco!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 41\n            }, this), puntosTrucoActuales === puntosConTruco && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => cantarTruco('RETRUCO'),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"swirl-glow-text\",\n                children: \"\\xA1Retruco!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 41\n            }, this), puntosTrucoActuales === puntosConRetruco && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => cantarTruco('VALECUATRO'),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"swirl-glow-text\",\n                children: \"\\xA1Vale cuatro!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 33\n          }, this), (mano === null || mano === void 0 ? void 0 : mano.cartasDisp) && Number(posicion) === (mano === null || mano === void 0 ? void 0 : mano.jugadorTurno) && !(mano !== null && mano !== void 0 && mano.esperandoRespuesta) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"envido-button-container\",\n            children: [(mano === null || mano === void 0 ? void 0 : mano.puedeCantarFlor) && (mano === null || mano === void 0 ? void 0 : mano.queFlorPuedeCantar) === 1 && mano.floresCantadas == 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => cantarFlor('FLOR'),\n              style: {\n                right: '20%',\n                animation: 'dropShadowGlowContainer 3s ease-in-out infinite'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\xA1Flor!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 41\n            }, this), (mano === null || mano === void 0 ? void 0 : mano.puedeCantarEnvido) && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [(mano === null || mano === void 0 ? void 0 : mano.queEnvidoPuedeCantar) >= 3 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => cantarEnvido('ENVIDO'),\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Envido\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 704,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 703,\n                columnNumber: 41\n              }, this), (mano === null || mano === void 0 ? void 0 : mano.queEnvidoPuedeCantar) >= 2 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => cantarEnvido('REAL_ENVIDO'),\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Real Envido\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 709,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 41\n              }, this), (mano === null || mano === void 0 ? void 0 : mano.queEnvidoPuedeCantar) >= 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  animation: 'dropShadowGlowContainer 3s ease-in-out infinite'\n                },\n                onClick: () => cantarEnvido('FALTA_ENVIDO'),\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"swirl-glow-text\",\n                  children: \"Falta Envido\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 714,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 713,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 25\n        }, this), (mano === null || mano === void 0 ? void 0 : mano.cartasDisp) && Number(posicion) === (mano === null || mano === void 0 ? void 0 : mano.jugadorTurno) && (mano === null || mano === void 0 ? void 0 : mano.esperandoRespuesta) && puntosTrucoActuales && (mano === null || mano === void 0 ? void 0 : mano.esTrucoEnvidoFlor) === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"truco-button-container responder-truco-buttons\",\n          children: [puntosTrucoActuales !== puntosConRetruco && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => responderTruco(\"QUIERO\"),\n            children: \"Quiero\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => responderTruco(\"NO_QUIERO\"),\n            children: \"No quiero\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 736,\n            columnNumber: 33\n          }, this), puntosTrucoActuales === puntosConRetruco && /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              animation: 'dropShadowGlowContainer 3s ease-in-out infinite'\n            },\n            onClick: () => responderTruco(\"QUIERO\"),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"swirl-glow-text\",\n              children: \"\\xA1Quiero!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 37\n          }, this), puntosTrucoActuales !== puntosConRetruco && (mano === null || mano === void 0 ? void 0 : mano.puedeCantarTruco) && /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              animation: 'dropShadowGlowContainer 3s ease-in-out infinite'\n            },\n            onClick: () => responderTruco('SUBIR'),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"swirl-glow-text\",\n              children: puntosTrucoActuales === puntosSinTruco ? '¡Retruco!' : '¡Vale Cuatro!'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 37\n          }, this), (mano === null || mano === void 0 ? void 0 : mano.puedeCantarEnvido) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"envido-button-container\",\n            style: {\n              top: '-120%',\n              position: 'absolute',\n              left: '60%'\n            },\n            children: [(mano === null || mano === void 0 ? void 0 : mano.queEnvidoPuedeCantar) >= 3 && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => responderEnvido('ENVIDO'),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Envido\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 759,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 758,\n              columnNumber: 45\n            }, this), (mano === null || mano === void 0 ? void 0 : mano.queEnvidoPuedeCantar) >= 2 && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => responderEnvido('REAL_ENVIDO'),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Real Envido\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 764,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 763,\n              columnNumber: 45\n            }, this), (mano === null || mano === void 0 ? void 0 : mano.queEnvidoPuedeCantar) >= 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                animation: 'dropShadowGlowContainer 3s ease-in-out infinite'\n              },\n              onClick: () => responderEnvido('FALTA_ENVIDO'),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"swirl-glow-text\",\n                children: \"Falta Envido\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 769,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 768,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 37\n          }, this), (mano === null || mano === void 0 ? void 0 : mano.puedeCantarFlor) && mano.floresCantadas == 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"flor-button\",\n            style: {\n              animation: 'dropShadowGlowContainer 3s ease-in-out infinite',\n              top: '-220%',\n              position: 'absolute',\n              left: '20%'\n            },\n            onClick: () => cantarFlor('FLOR'),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\xA1Flor!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 776,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 29\n        }, this), (mano === null || mano === void 0 ? void 0 : mano.cartasDisp) && Number(posicion) === (mano === null || mano === void 0 ? void 0 : mano.jugadorTurno) && (mano === null || mano === void 0 ? void 0 : mano.esperandoRespuesta) && (mano === null || mano === void 0 ? void 0 : mano.esTrucoEnvidoFlor) === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"envido-button-container\",\n          style: {\n            left: '70%',\n            position: 'fixed'\n          },\n          children: [(mano === null || mano === void 0 ? void 0 : mano.puedeCantarFlor) && mano.floresCantadas == 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"flor-button\",\n            style: {\n              animation: 'dropShadowGlowContainer 3s ease-in-out infinite'\n            },\n            onClick: () => cantarFlor('FLOR'),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\xA1Flor!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 793,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 791,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => responderEnvido(\"QUIERO\"),\n            children: \"Quiero\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => responderEnvido(\"NO_QUIERO\"),\n            children: \"No quiero\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 797,\n            columnNumber: 33\n          }, this), (mano === null || mano === void 0 ? void 0 : mano.queEnvidoPuedeCantar) >= 3 && (mano === null || mano === void 0 ? void 0 : mano.puedeCantarEnvido) && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => responderEnvido('ENVIDO'),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Envido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 801,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 800,\n            columnNumber: 37\n          }, this), (mano === null || mano === void 0 ? void 0 : mano.queEnvidoPuedeCantar) >= 2 && (mano === null || mano === void 0 ? void 0 : mano.puedeCantarEnvido) && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => responderEnvido('REAL_ENVIDO'),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Real Envido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 806,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 805,\n            columnNumber: 37\n          }, this), (mano === null || mano === void 0 ? void 0 : mano.queEnvidoPuedeCantar) >= 1 && (mano === null || mano === void 0 ? void 0 : mano.puedeCantarEnvido) && /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              animation: 'dropShadowGlowContainer 3s ease-in-out infinite'\n            },\n            onClick: () => responderEnvido('FALTA_ENVIDO'),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"swirl-glow-text\",\n              children: \"Falta Envido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 811,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 786,\n          columnNumber: 29\n        }, this), (mano === null || mano === void 0 ? void 0 : mano.cartasDisp) && Number(posicion) === (mano === null || mano === void 0 ? void 0 : mano.jugadorTurno) && (mano === null || mano === void 0 ? void 0 : mano.esperandoRespuesta) && (mano === null || mano === void 0 ? void 0 : mano.esTrucoEnvidoFlor) === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"envido-button-container\",\n          style: {\n            left: '75%',\n            position: 'fixed',\n            width: 'auto'\n          },\n          children: [(mano === null || mano === void 0 ? void 0 : mano.floresCantadas) == 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => responderFlor(\"QUIERO\"),\n              children: \"Quiero\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => responderFlor(\"NO_QUIERO\"),\n              children: \"No quiero\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 828,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true), (mano === null || mano === void 0 ? void 0 : mano.queFlorPuedeCantar) == 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                animation: 'dropShadowGlowContainer 3s ease-in-out infinite'\n              },\n              onClick: () => responderFlor('CONTRAFLOR'),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"swirl-glow-text\",\n                children: \"\\xA1Contraflor!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 838,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 834,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                animation: 'dropShadowGlowContainer 3s ease-in-out infinite'\n              },\n              onClick: () => responderFlor('CON_FLOR_ME_ACHICO'),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"swirl-glow-text\",\n                children: \"Con flor me achico...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 840,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(CartasVolteadas, {\n          cartasDispo: mano === null || mano === void 0 ? void 0 : mano.cartasDisp,\n          posicionListaCartas: posicion,\n          jugadorMano: game.jugadorMano,\n          esperandoRespuesta: mano === null || mano === void 0 ? void 0 : mano.esperandoRespuesta,\n          jugadorTurno: mano === null || mano === void 0 ? void 0 : mano.jugadorTurno\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 857,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Perfil, {\n      game: game,\n      posicion: posicion\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 868,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n}, \"XM0ISKW0k91NRDxXejd070LIsLk=\", false, function () {\n  return [useFetchState];\n})), \"XM0ISKW0k91NRDxXejd070LIsLk=\", false, function () {\n  return [useFetchState];\n});\n_c2 = PlayingModal;\nexport default PlayingModal;\nvar _c, _c2;\n$RefreshReg$(_c, \"PlayingModal$forwardRef\");\n$RefreshReg$(_c2, \"PlayingModal\");","map":{"version":3,"names":["React","useState","forwardRef","useEffect","useRef","tokenService","useFetchState","CartasVolteadas","Perfil","backgroundMusic","PuntosComponente","jsxDEV","_jsxDEV","Fragment","_Fragment","jwt","getLocalAccessToken","usuario","getUser","PlayingModal","_s","_c","props","ref","game","message","setMessage","visible","setVisible","cartasJugador","setCartasJugador","mano","setMano","ultimoMensaje","setUltimoMensaje","resolucionEnvido","setResolucionEnvido","resolucionEnvidoFlor","setResolucionEnvidoFlor","cantoDicho","setCantoDicho","envidosJugadores","setEnvidosJugadores","envidosFlorJugadores","setEnvidosFlorJugadores","puntosSinTruco","puntosConTruco","puntosConRetruco","puntosTrucoActuales","setPuntosTrucoActuales","tirarTrigger","setTirarTrigger","trucoTrigger","setTrucoTrigger","envidoTrigger","setEnvidoTrigger","florTrigger","setFlorTrigger","posicion","setPosicion","id","nombresJugadores","setNombresJugadores","eresEspectador","audioRef","dropAreaRef","isOverDropArea","setIsOverDropArea","draggedCarta","setDraggedCarta","positionCarta","setPositionCarta","x","y","isPlaying","setIsPlaying","volumeVisible","setVolumeVisible","volume","setVolume","fetchMano","fetch","codigo","method","headers","Authorization","then","response","json","data","cartasActuales","cartasDisp","JSON","stringify","puntosTruco","envidosCadaJugador","map","envido","envidosFlorCadaJugador","envidoflor","prevUltimoMensaje","catch","error","console","mostrarMensaje","timeoutId","setTimeout","clearTimeout","intervalId","setInterval","fetchPlayerNames","nombres","partidaJugador","player","userName","clearInterval","current","handlePlayMusic","play","handlePauseMusic","pause","handleVolumeChange","event","sliderValue","target","value","minLog","maxLog","logVolume","Math","pow","log10","dragStart","evento","carta","Number","jugadorTurno","dataTransfer","effectAllowed","onDrag","clientX","clientY","dropAreaRect","getBoundingClientRect","isOver","left","right","top","bottom","onDragEnd","tirarCarta","cartaId","Accept","text","prev","alert","cantarTruco","truco","responderTruco","respuesta","cantarEnvido","cantarFlor","responderEnvido","responderFlor","renderCartasJugador","children","fileName","_jsxFileName","lineNumber","columnNumber","esTurnoValido","esperandoRespuesta","className","index","draggable","onDragStart","onClick","style","border","outline","background","padding","margin","cursor","src","foto","alt","onError","e","display","renderCartasMesa","cartasLanzadasTotales","length","jugadorIndex","rondaIndex","transform","position","zIndex","color","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","height","width","overflow","estiloFotoPunto","puntosEquipo1","puntosEquipo2","htmlFor","type","min","max","onChange","loop","opacity","pointerEvents","marginTop","equipoGanadorEnvido","fontStyle","replace","flexDirection","puedeCantarTruco","puedeCantarFlor","queFlorPuedeCantar","floresCantadas","animation","puedeCantarEnvido","queEnvidoPuedeCantar","esTrucoEnvidoFlor","cartasDispo","posicionListaCartas","jugadorMano","_c2","$RefreshReg$"],"sources":["C:/Users/david/OneDrive/Escritorio/TrucoFront/src/manos/PlayingModal.js"],"sourcesContent":["import React, { useState, forwardRef, useEffect, useRef } from 'react';\r\nimport tokenService from \"../services/token.service.js\";\r\nimport useFetchState from \"../util/useFetchState.js\";\r\nimport CartasVolteadas from './CartasVolteadas.js';\r\nimport Perfil from './Perfil.js';\r\nimport  \"../static/css/mano/PlayingModal.css\"\r\n\r\nimport backgroundMusic from '../static/audios/musicaPartida2.mp3';\r\nimport PuntosComponente from './PuntosComponente.js';\r\n\r\nconst jwt = tokenService.getLocalAccessToken();\r\nconst usuario = tokenService.getUser();\r\n\r\nconst PlayingModal = forwardRef((props, ref) => {\r\n    const game = props.game;\r\n    const [message, setMessage] = useState(null);\r\n    const [visible, setVisible] = useState(false);\r\n    const [cartasJugador, setCartasJugador] = useState([]);\r\n    const [mano, setMano] = useState(null);  // mano inicialmente es null\r\n\r\n    //MENSAJES Y CUADRO DEL ENVIDO\r\n    const [ultimoMensaje, setUltimoMensaje] = useState(null);\r\n    const [resolucionEnvido, setResolucionEnvido] = useState(false);\r\n    const [resolucionEnvidoFlor, setResolucionEnvidoFlor] = useState(false);\r\n\r\n    const [cantoDicho, setCantoDicho] = useState(false);\r\n\r\n    const [envidosJugadores, setEnvidosJugadores] = useState([]);\r\n    const [envidosFlorJugadores, setEnvidosFlorJugadores] = useState([]);\r\n\r\n    const puntosSinTruco = 1;\r\n    const puntosConTruco = 2;\r\n    const puntosConRetruco = 3;\r\n    const [puntosTrucoActuales, setPuntosTrucoActuales] = useState(puntosSinTruco);\r\n    const [tirarTrigger, setTirarTrigger] = useState(0);\r\n    const [trucoTrigger, setTrucoTrigger] = useState(0);\r\n    const [envidoTrigger, setEnvidoTrigger] = useState(0);\r\n    const [florTrigger, setFlorTrigger] = useState(0);\r\n\r\n    const [posicion, setPosicion] = useFetchState(\r\n        {}, `/api/v1/partidajugador/miposicion/${game.id}/${usuario.id}`, jwt, setMessage, setVisible\r\n    );\r\n\r\n    const [nombresJugadores, setNombresJugadores] = useState([]);\r\n    const eresEspectador= typeof posicion === 'object'\r\n\r\n    const audioRef = useRef(null);\r\n    const dropAreaRef = useRef(null);\r\n    const [isOverDropArea, setIsOverDropArea] = useState(false);\r\n    const [draggedCarta, setDraggedCarta] = useState(null);\r\n    const [positionCarta, setPositionCarta] = useState({ x: 0, y: 0 });\r\n\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [volumeVisible, setVolumeVisible] = useState(false);\r\n\r\n    const [volume, setVolume] = useState(50); // Default volume at 50%\r\n\r\n    function fetchMano() {\r\n        fetch('https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/' + game.codigo, {\r\n            method: \"GET\",\r\n            headers: {\r\n                Authorization: `Bearer ${jwt}`,\r\n            },\r\n        })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            setMano(data);  // Asignamos 'data' a mano\r\n            let cartasActuales = data.cartasDisp[posicion];\r\n\r\n            if (JSON.stringify(cartasJugador) !== JSON.stringify(cartasActuales)) {\r\n                setCartasJugador(cartasActuales);\r\n                setPuntosTrucoActuales(data.puntosTruco);\r\n            }\r\n            \r\n            if (data.envidosCadaJugador) {\r\n                setEnvidosJugadores(\r\n                    data.envidosCadaJugador.map((envido) => (envido === null ? 'Son buenas' : envido))\r\n                );\r\n            }\r\n            if (data.envidosFlorCadaJugador) {\r\n                setEnvidosFlorJugadores(\r\n                    data.envidosFlorCadaJugador.map((envidoflor) => (envidoflor === null ? 'Son buenas' : envidoflor))\r\n                );\r\n            }\r\n\r\n            // Actualizamos el ultimoMensaje si ha cambiado\r\n            setUltimoMensaje((prevUltimoMensaje) => {\r\n                if (data.ultimoMensaje !== prevUltimoMensaje) {\r\n                    return data.ultimoMensaje;\r\n                }\r\n                return prevUltimoMensaje;\r\n            });\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error fetching mano:\", error);\r\n            \r\n            setMessage(\"Error fetching mano.\");\r\n            setVisible(true);\r\n        });\r\n    }\r\n\r\n    function mostrarMensaje() {\r\n        if (ultimoMensaje === \"LISTA_ENVIDOS\") {\r\n            setResolucionEnvido(true);\r\n            const timeoutId = setTimeout(() => setResolucionEnvido(false), 7000);\r\n            return () => clearTimeout(timeoutId);\r\n        } \r\n        else if (ultimoMensaje === \"LISTA_ENVIDOS_FLOR\") {\r\n            setResolucionEnvidoFlor(true);\r\n            const timeoutId = setTimeout(() => setResolucionEnvidoFlor(false), 7000);\r\n            return () => clearTimeout(timeoutId);\r\n        }\r\n        else if (ultimoMensaje !== null) {\r\n            setCantoDicho(true);\r\n            const timeoutId = setTimeout(() => setCantoDicho(false), 5000);\r\n            return () => clearTimeout(timeoutId);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        mostrarMensaje();\r\n    }, [ultimoMensaje]);\r\n\r\n    useEffect(() => {\r\n        let intervalId;\r\n        mostrarMensaje();\r\n        fetchMano();\r\n        intervalId = setInterval(fetchMano, 1000);\r\n\r\n        function fetchPlayerNames() {\r\n            fetch('https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/partidajugador/players?partidaCode='+game.codigo, {\r\n                method: \"GET\",\r\n                headers: {\r\n                    Authorization: `Bearer ${jwt}`,\r\n                },\r\n            })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                const nombres = data.map(\r\n                    (partidaJugador) => partidaJugador.player.userName\r\n                );\r\n                setNombresJugadores(nombres);\r\n            });\r\n        }\r\n        fetchPlayerNames();\r\n        \r\n        return () => clearInterval(intervalId);\r\n    }, [game.codigo, posicion]);\r\n\r\n    useEffect(() => {\r\n        fetchMano();\r\n    }, [tirarTrigger, trucoTrigger, envidoTrigger, florTrigger]);\r\n\r\n    useEffect(() => {\r\n        // Cuando mano cambie y no sea null, actualizamos puntosTrucoActuales\r\n        if (mano && mano.puntosTruco) {\r\n            setPuntosTrucoActuales(mano.puntosTruco);\r\n        }\r\n    }, [mano]);\r\n\r\n    // Set initial volume\r\n    useEffect(() => {\r\n        if (audioRef.current) {\r\n            audioRef.current.volume = volume / 100;\r\n        }\r\n    }, [volume]);\r\n\r\n    const handlePlayMusic = () => {\r\n        if (audioRef.current) {\r\n            audioRef.current.play()\r\n            .then(() => {\r\n                setIsPlaying(true);\r\n                setVolumeVisible(true);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error playing audio:\", error);\r\n            });\r\n        }\r\n    };\r\n\r\n    const handlePauseMusic = () => {\r\n        if (audioRef.current) {\r\n            audioRef.current.pause();\r\n            setIsPlaying(false);\r\n        }\r\n    };\r\n\r\n    const handleVolumeChange = (event) => {\r\n        const sliderValue = event.target.value;\r\n        const minLog = 0.01; // Volumen más bajo\r\n        const maxLog = 1;    \r\n        const logVolume = Math.pow(10, (sliderValue / 100) * (Math.log10(maxLog) - Math.log10(minLog)) + Math.log10(minLog));\r\n        setVolume(sliderValue);\r\n        if (audioRef.current) {\r\n            audioRef.current.volume = logVolume;\r\n        }\r\n    };\r\n\r\n    const dragStart = (evento, carta) => {\r\n        // Chequeamos que mano no sea null\r\n        if (mano && cartasJugador && Number(posicion) === mano.jugadorTurno) {\r\n            setDraggedCarta(carta);\r\n            evento.dataTransfer.effectAllowed = 'move';\r\n        }\r\n    };\r\n\r\n    const onDrag = (evento) => {\r\n        const x = evento.clientX;\r\n        const y = evento.clientY;\r\n        setPositionCarta({ x, y });\r\n\r\n        if (dropAreaRef.current) {\r\n            const dropAreaRect = dropAreaRef.current.getBoundingClientRect();\r\n            const isOver = (\r\n                x >= dropAreaRect.left &&\r\n                x <= dropAreaRect.right &&\r\n                y >= dropAreaRect.top &&\r\n                y <= dropAreaRect.bottom\r\n            );\r\n            setIsOverDropArea(isOver);\r\n        }\r\n    };\r\n\r\n    const onDragEnd = (evento, carta) => {\r\n        const x = evento.clientX;\r\n        const y = evento.clientY;\r\n\r\n        if (dropAreaRef.current) {\r\n            const dropAreaRect = dropAreaRef.current.getBoundingClientRect();\r\n            const isOver = (\r\n                x >= dropAreaRect.left &&\r\n                x <= dropAreaRect.right &&\r\n                y >= dropAreaRect.top &&\r\n                y <= dropAreaRect.bottom\r\n            );\r\n            if (isOver) {\r\n                tirarCarta(carta.id);\r\n            }\r\n        }\r\n        setDraggedCarta(null);\r\n        setIsOverDropArea(false);\r\n    };\r\n\r\n    function tirarCarta(cartaId) {\r\n        fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/tirarCarta/${cartaId}`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                Authorization: `Bearer ${jwt}`,\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        })\r\n            .then((response) => response.text())\r\n            .then((data) => {\r\n                if (data) {\r\n                    setTirarTrigger((prev) => prev + 1);\r\n                }\r\n            })\r\n            .catch((error) => alert(error.message));\r\n    }\r\n\r\n    function cantarTruco(truco) {\r\n        fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/cantarTruco/${truco}`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                Authorization: `Bearer ${jwt}`,\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        })\r\n            .then((response) => response.text())\r\n            .then((data) => {\r\n                if (data) {\r\n                    setTrucoTrigger((prev) => prev + 1);\r\n                }\r\n            })\r\n            .catch((error) => alert(error.message));\r\n    }\r\n\r\n    function responderTruco(respuesta) {\r\n        fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/responderTruco/${respuesta}`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                Authorization: `Bearer ${jwt}`,\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        })\r\n            .then((response) => response.text())\r\n            .then((data) => {\r\n                if (data) {\r\n                    setTrucoTrigger((prev) => prev + 1);\r\n                }\r\n            })\r\n            .catch((error) => alert(error.message));\r\n    }\r\n\r\n    function cantarEnvido(respuesta) {\r\n        fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/cantarEnvido/${respuesta}`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                Authorization: `Bearer ${jwt}`,\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        })\r\n        .then((response) => response.text())\r\n        .then((data) => {\r\n            if (data) {\r\n                setEnvidoTrigger((prev) => prev + 1);\r\n            }\r\n        })\r\n        .catch((error) => alert(error.message));\r\n    }\r\n\r\n    function cantarFlor(respuesta) {\r\n        fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/cantarFlor/${respuesta}`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                Authorization: `Bearer ${jwt}`,\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        })\r\n        .then((response) => response.text())\r\n        .then((data) => {\r\n            if (data) {\r\n                setFlorTrigger((prev) => prev + 1);\r\n            }\r\n        })\r\n        .catch((error) => alert(error.message));\r\n    }\r\n\r\n    function responderEnvido(respuesta) {\r\n        fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/responderEnvido/${respuesta}`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                Authorization: `Bearer ${jwt}`,\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        })\r\n            .then((response) => response.text())\r\n            .then((data) => {\r\n                if (data) {\r\n                    setEnvidoTrigger((prev) => prev + 1);\r\n                }\r\n            })\r\n            .catch((error) => alert(error.message));\r\n    }\r\n\r\n    function responderFlor(respuesta) {\r\n        fetch(`https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/manos/${game.codigo}/responderFlor/${respuesta}`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                Authorization: `Bearer ${jwt}`,\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        })\r\n        .then((response) => response.text())\r\n        .then((data) => {\r\n            if (data) {\r\n                setFlorTrigger((prev) => prev + 1);\r\n            }\r\n        })\r\n        .catch((error) => alert(error.message));\r\n    }\r\n\r\n    // NUEVO: Función para renderizar Cartas del Jugador\r\n    const renderCartasJugador = () => {\r\n        if (!mano) {  // Si mano es null, no retorna nada\r\n            return <div>Cargando mano...</div>;\r\n        }\r\n        if (!mano.cartasDisp) {\r\n            return <div>Cargando cartas del jugador...</div>;\r\n        }\r\n      \r\n\r\n        const cartasJugador = mano.cartasDisp[posicion];\r\n        const esTurnoValido =\r\n            mano &&\r\n            cartasJugador &&\r\n            Number(posicion) === mano.jugadorTurno &&\r\n            !mano.esperandoRespuesta;\r\n\r\n        if (!cartasJugador) {\r\n            return <div></div>;\r\n        }\r\n\r\n        return (\r\n            <div className=\"cartas-jugador-container\">\r\n                {cartasJugador.map((carta, index) => (\r\n                    carta && (\r\n                        <div\r\n                            key={index}\r\n                            className={`card-container ${esTurnoValido ? 'swirl' : ''}`}\r\n                        >\r\n                            <div\r\n                                className={`base-card ${!esTurnoValido ? 'invalid-turn' : ''}`}\r\n                                draggable={esTurnoValido}\r\n                                onDragStart={(evento) => dragStart(evento, carta)}\r\n                                onDrag={(evento) => onDrag(evento)}\r\n                                onDragEnd={(evento) => onDragEnd(evento, carta)}\r\n                            >\r\n                                <button \r\n                                    onClick={() => tirarCarta(carta.id)}\r\n                                    style={{\r\n                                        border: 'none',\r\n                                        outline: 'none',\r\n                                        background: 'none',\r\n                                        padding: 0,\r\n                                        margin: 0,\r\n                                        cursor: 'pointer'\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        src={carta.foto}\r\n                                        alt={`Carta ${index + 1}`}\r\n                                        className=\"card-image\"\r\n                                        onError={(e) => (e.target.style.display = 'none')}\r\n                                    />\r\n                                </button>\r\n                                {/* Overlay de resplandor holográfico */}\r\n                                <div className=\"sunset-overlay\"></div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                ))}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // NUEVO: Función para renderizar cartas en mesa\r\n    const renderCartasMesa = () => {\r\n        if (!mano) {\r\n            return <div>Cargando mano...</div>;\r\n        }\r\n        if (!mano.cartasLanzadasTotales) {\r\n            return <div>No hay cartas para mostrar.</div>;\r\n        }\r\n\r\n        const cartasLanzadasTotales = mano.cartasLanzadasTotales;\r\n        if (cartasLanzadasTotales.length === 0) {\r\n            return <div>No hay cartas para mostrar.</div>;\r\n        }\r\n\r\n        return (\r\n            <div className=\"cartas-mesa-container\">\r\n                {cartasLanzadasTotales.map((cartasJugador, jugadorIndex) => (\r\n                    <div key={jugadorIndex} className=\"jugador-cartas\">\r\n                        {cartasJugador.map((carta, rondaIndex) => (\r\n                            carta && (\r\n                                <div\r\n                                    key={rondaIndex}\r\n                                    className=\"card-container mesa\"\r\n                                    style={{\r\n                                        transform: `translateY(-${rondaIndex * -15}px)`,\r\n                                        position: 'relative',\r\n                                        zIndex: 10 + rondaIndex,\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        src={carta.foto}\r\n                                        alt={`Carta Ronda ${rondaIndex + 1}`}\r\n                                        className=\"card-image\"\r\n                                        onError={(e) => (e.target.style.display = 'none')}\r\n                                    />\r\n                                    <div className=\"sunset-overlay\"></div>\r\n                                </div>\r\n                            )\r\n                        ))}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // AQUÍ empieza el **return** principal del componente\r\n    return (\r\n        <>\r\n            { /* Evitamos rompernos si 'mano' es null usando optional chaining o condicionales */ }\r\n            <div className=\"playing-modal-container\">\r\n                \r\n                {/* Si mano es null, mostramos un loading y retornamos */}\r\n                {!mano && (\r\n                    <div style={{ color: 'white' }}>\r\n                        Cargando mano...  \r\n                    </div>\r\n                )}\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {/* Si mano existe, seguimos */}\r\n                {mano && (\r\n                    <>\r\n                        <div\r\n                            style={{ \r\n                                backgroundImage: 'url(/fondos/fondoPlayingModal.jpg)',\r\n                                backgroundSize: 'cover', \r\n                                backgroundRepeat: 'no-repeat', \r\n                                backgroundPosition: 'center', \r\n                                height: '19000vh',\r\n                                width: '100vw',\r\n                                position: 'relative',\r\n                                zIndex: -1\r\n                            }}\r\n                        >\r\n                            <h3 className=\"player-heading\" >\r\n                                {eresEspectador ? \"Viendo la partida...\" : `Jugador: ${Number(posicion)}` }\r\n                                \r\n                            </h3>\r\n                          {!volumeVisible &&  <h3 className=\"turno-heading\">{mano?.esperandoRespuesta&& mano?.jugadorTurno=== posicion ? \"Tenés que responder\": (mano?.jugadorTurno===posicion? \"Es tu turno\" : \"No es tu turno\") }</h3>}\r\n                        </div>\r\n                            \r\n                        <h4 className={\"puntos-nuestros\"}>\r\n                            {eresEspectador ? \"E1:\":\"Nos:\"}</h4>\r\n\r\n                        <h4 className={\"puntos-ellos\"}>\r\n                            {eresEspectador ? \"E2:\":\"Ellos:\"}</h4>\r\n\r\n                        {puntosTrucoActuales && (\r\n                            <div style={{overflow:'hidden'}}> \r\n                                <PuntosComponente  \r\n                                    estiloFotoPunto={\"puntaje-EquipoNuestro\"} \r\n                                    posicion={posicion} \r\n                                    puntosEquipo1={game.puntosEquipo1} \r\n                                    puntosEquipo2={game.puntosEquipo2}\r\n                                />\r\n                                <PuntosComponente \r\n                                    estiloFotoPunto={\"puntaje-EquipoEllos\"} \r\n                                    posicion={posicion} \r\n                                    puntosEquipo1={game.puntosEquipo2} \r\n                                    puntosEquipo2={game.puntosEquipo1}\r\n                                />\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Drop Area */}\r\n                        <div ref={dropAreaRef} className=\"drop-area\" />\r\n\r\n                        {/* Botón Play Music */}\r\n                        {!isPlaying && (\r\n                            <button onClick={handlePlayMusic} className=\"play-music-button\">\r\n                                <span className=\"swirl-glow-textMusica\"> 🎵 </span>                 \r\n                            </button>\r\n                        )}\r\n\r\n                        {/* Botón Pause y Slider Volumen */}\r\n                        {isPlaying && (\r\n                            <>\r\n                                <button onClick={handlePauseMusic} className=\"play-music-button\">\r\n                                    ⏸\r\n                                </button>\r\n                                <button style={{top:\"10%\" , position:\"absolute\"}} onClick={()=>setVolumeVisible(!volumeVisible)} className=\"play-music-button\">\r\n                                    X\r\n                                </button>\r\n                                {volumeVisible&&  <div className=\"volume-slider-container\">\r\n                                    <label htmlFor=\"volume-slider\">Volume:</label>\r\n                                    <input\r\n                                        type=\"range\"\r\n                                        id=\"volume-slider\"\r\n                                        min=\"0\"\r\n                                        max=\"100\"\r\n                                        value={volume}\r\n                                        onChange={handleVolumeChange}\r\n                                    />\r\n                                    <span>{volume}%</span>\r\n                                </div>}\r\n                            </>\r\n                        )}\r\n\r\n                        <audio ref={audioRef} src={backgroundMusic} loop /> \r\n\r\n                        {/* Cartas del Jugador */}\r\n                        {renderCartasJugador()}\r\n\r\n                        {/* Carta Arrastrada */}\r\n                        {draggedCarta && (\r\n                            <div\r\n                                className={`dragged-card ${Number(posicion) === mano.jugadorTurno ? 'swirl' : ''}`}\r\n                                style={{ \r\n                                    left: `${positionCarta.x - 50}px`,\r\n                                    top: `${positionCarta.y - 75}px`,\r\n                                    opacity: isOverDropArea ? 1 : 0.5,\r\n                                    pointerEvents: 'none',\r\n                                    position: 'fixed',\r\n                                    zIndex: 1000\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    src={draggedCarta.foto}\r\n                                    alt=\"Carta arrastrada\"\r\n                                    className=\"card-image\"\r\n                                    onError={(e) => (e.target.style.display = 'none')}\r\n                                />\r\n                                <div className=\"sunset-overlay\"></div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Cartas en la Mesa */}\r\n                        <div className=\"cartas-mesa-position\">\r\n                            {renderCartasMesa()}\r\n                        </div>\r\n\r\n                        {/* Cuadro del Envido */}\r\n                        <div style={{ position: 'absolute', left: '52%', top: '30%', transform: 'translateX(-50%)', zIndex: 1000 }}>\r\n                            {resolucionEnvido && (\r\n                                <div className=\"res-envido-container\">\r\n                                    <h3 className='swirl-glow-text2' style={{marginTop:12}}>Resolución de Envido</h3>\r\n                                    <h5\r\n                                        style={{\r\n                                            color: mano.equipoGanadorEnvido === posicion % 2 ? 'white' : 'black',\r\n                                            margin: '3px 0',\r\n                                            fontStyle: 'italic'\r\n                                        }}\r\n                                    >\r\n                                        {mano.equipoGanadorEnvido === posicion % 2 ? '¡Ganaste!' : 'Perdiste...'}\r\n                                    </h5>                               \r\n                                    {envidosJugadores.map((envido, index) => (\r\n                                        <p style={{ margin: '9px 0' }} key={index}>\r\n                                            {index === posicion ? \"Vos\" : nombresJugadores[index]}: {envido}\r\n                                        </p>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Cuadro de la contraflor */}\r\n                        <div style={{ position: 'absolute', left: '52%', top: '30%', transform: 'translateX(-50%)', zIndex: 1000 }}>\r\n                            {resolucionEnvidoFlor && (\r\n                                <div className=\"res-envido-container\">\r\n                                    <h3 className='swirl-glow-text2' style={{marginTop:12}}>Resolución de Envido</h3>\r\n                                    <h5\r\n                                        style={{\r\n                                            color: mano.equipoGanadorEnvido === posicion % 2 ? 'white' : 'black',\r\n                                            margin: '3px 0',\r\n                                            fontStyle: 'italic'\r\n                                        }}\r\n                                    >\r\n                                        {mano.equipoGanadorEnvido === posicion % 2 ? '¡Ganaste!' : 'Perdiste...'}\r\n                                    </h5>                               \r\n                                    {envidosFlorJugadores.map((envidoflor, index) => (\r\n                                        <p style={{ margin: '9px 0' }} key={index}>\r\n                                            {index === posicion ? \"Vos\" : nombresJugadores[index]}: {envidoflor}\r\n                                        </p>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Cuadro Canto */}\r\n                        <div style={{ position: 'absolute', left: '50%', top: '39%', transform: 'translateX(-50%)', zIndex: 1000 }}>\r\n                            {cantoDicho && (\r\n                                <div className=\"cuadros-canto\">\r\n                                    {ultimoMensaje && (\r\n                                        <h3 style={{ color: \"darkorange\" }}>\r\n                                            {ultimoMensaje.replace(\"_\", \" \").replace(\"2\",\"\")}\r\n                                        </h3>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Botones Truco */}\r\n                        <div style={{ display:'flex', flexDirection: 'row' }}>\r\n                            {/* Evitamos error: mano?.puedeCantarTruco en lugar de mano.puedeCantarTruco */}\r\n                            {mano?.cartasDisp && Number(posicion) === mano?.jugadorTurno && !mano?.esperandoRespuesta && mano?.puedeCantarTruco && puntosTrucoActuales && (\r\n                                <div className=\"truco-button-container\"> \r\n                                    {puntosTrucoActuales === puntosSinTruco && (\r\n                                        <button onClick={() => cantarTruco('TRUCO')}>\r\n                                            <span className=\"swirl-glow-text\">¡Truco!</span>\r\n                                        </button>\r\n                                    )}\r\n                                    {puntosTrucoActuales === puntosConTruco && (\r\n                                        <button onClick={() => cantarTruco('RETRUCO')}>\r\n                                            <span className=\"swirl-glow-text\">¡Retruco!</span>\r\n                                        </button>\r\n                                    )}\r\n                                    {puntosTrucoActuales === puntosConRetruco && (\r\n                                        <button onClick={() => cantarTruco('VALECUATRO')}>\r\n                                            <span className=\"swirl-glow-text\">¡Vale cuatro!</span>\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                            \r\n                            {/* Cantar envido y flor */}\r\n                            {mano?.cartasDisp && Number(posicion) === mano?.jugadorTurno && !mano?.esperandoRespuesta && (\r\n                                <div className=\"envido-button-container\">\r\n                                    {/* Cantar Flor */}\r\n                                {mano?.puedeCantarFlor && mano?.queFlorPuedeCantar === 1 && mano.floresCantadas==0 && (\r\n                                        <button onClick={() => cantarFlor('FLOR')} style={{right:'20%',animation:'dropShadowGlowContainer 3s ease-in-out infinite'}}>\r\n                                            <span>¡Flor!</span>\r\n                                        </button>\r\n                                    )}\r\n                                    { mano?.puedeCantarEnvido && (\r\n                                        <>\r\n                                    {mano?.queEnvidoPuedeCantar >= 3 && (\r\n                                        <button onClick={() => cantarEnvido('ENVIDO')}>\r\n                                            <span>Envido</span>\r\n                                        </button>\r\n                                    )}\r\n                                    {mano?.queEnvidoPuedeCantar >= 2 && (\r\n                                        <button onClick={() => cantarEnvido('REAL_ENVIDO')}>\r\n                                            <span>Real Envido</span>\r\n                                        </button>\r\n                                    )}\r\n                                    {mano?.queEnvidoPuedeCantar >= 1 && (\r\n                                        <button style={{animation:'dropShadowGlowContainer 3s ease-in-out infinite'}} onClick={() => cantarEnvido('FALTA_ENVIDO')}>\r\n                                            <span className=\"swirl-glow-text\">Falta Envido</span>\r\n                                        </button>\r\n                                    )}\r\n                                </>)}\r\n\r\n                                \r\n                                </div>\r\n                            )}\r\n\r\n                            \r\n                           \r\n                        </div>\r\n\r\n                        {/* Responder Truco Buttons */}\r\n                        {mano?.cartasDisp && Number(posicion) === mano?.jugadorTurno && mano?.esperandoRespuesta && puntosTrucoActuales && mano?.esTrucoEnvidoFlor === 0 && (\r\n                            <div className=\"truco-button-container responder-truco-buttons\">\r\n                                \r\n                                {puntosTrucoActuales !== puntosConRetruco && \r\n                                    <button onClick={() => responderTruco(\"QUIERO\")}>Quiero</button>\r\n                                }\r\n                                \r\n                                \r\n                                <button onClick={() => responderTruco(\"NO_QUIERO\")}>No quiero</button>\r\n                                {puntosTrucoActuales === puntosConRetruco && \r\n                                    <button style={{ animation: 'dropShadowGlowContainer 3s ease-in-out infinite' }} \r\n                                        onClick={() => responderTruco(\"QUIERO\")}\r\n                                    >\r\n                                        <span className=\"swirl-glow-text\">¡Quiero!</span>\r\n                                    </button>\r\n                                }\r\n                                {puntosTrucoActuales !== puntosConRetruco && mano?.puedeCantarTruco && (\r\n                                    <button\r\n                                        style={{ animation:'dropShadowGlowContainer 3s ease-in-out infinite' }}\r\n                                        onClick={() => responderTruco('SUBIR')}\r\n                                    >\r\n                                        <span className=\"swirl-glow-text\">\r\n                                            {puntosTrucoActuales === puntosSinTruco ? '¡Retruco!' : '¡Vale Cuatro!'}\r\n                                        </span>\r\n                                    </button>\r\n                                )}\r\n                                \r\n                                {mano?.puedeCantarEnvido && (\r\n                                    <div className='envido-button-container' style={{top:'-120%', position:'absolute', left:'60%'}}>\r\n                                        {mano?.queEnvidoPuedeCantar >= 3 && (\r\n                                            <button onClick={() => responderEnvido('ENVIDO')}>\r\n                                                <span>Envido</span>\r\n                                            </button>\r\n                                        )}\r\n                                        {mano?.queEnvidoPuedeCantar >= 2 && (\r\n                                            <button onClick={() => responderEnvido('REAL_ENVIDO')}>\r\n                                                <span>Real Envido</span>\r\n                                            </button>\r\n                                        )}\r\n                                        {mano?.queEnvidoPuedeCantar >= 1 && (\r\n                                            <button style={{animation:'dropShadowGlowContainer 3s ease-in-out infinite'}} onClick={() => responderEnvido('FALTA_ENVIDO')}>\r\n                                                <span className=\"swirl-glow-text\">Falta Envido</span>\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                                {mano?.puedeCantarFlor &&  mano.floresCantadas==0 &&  (\r\n                                        <button className= \"flor-button\" style={{animation:'dropShadowGlowContainer 3s ease-in-out infinite',  top:'-220%', position:'absolute', left:'20%' }} onClick={() => cantarFlor('FLOR')}>\r\n                                            <span>¡Flor!</span>\r\n                                        </button>\r\n                                    )}\r\n\r\n\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Responder Envido */}\r\n                        {mano?.cartasDisp && Number(posicion) === mano?.jugadorTurno && mano?.esperandoRespuesta && mano?.esTrucoEnvidoFlor === 1 && (\r\n                            <div className=\"envido-button-container\" style={{ left:'70%', position:'fixed'}}>\r\n                                {/* Responder Envido */}\r\n                                \r\n                                \r\n                                {mano?.puedeCantarFlor &&  mano.floresCantadas==0 &&  (\r\n                                        <button className= \"flor-button\"\r\n                                        style={{animation:'dropShadowGlowContainer 3s ease-in-out infinite' } } onClick={() => cantarFlor('FLOR')}>\r\n                                            <span>¡Flor!</span>\r\n                                        </button>\r\n                                    )}\r\n                                <button onClick={() => responderEnvido(\"QUIERO\")}>Quiero</button>\r\n                                <button onClick={() => responderEnvido(\"NO_QUIERO\")}>No quiero</button>\r\n                                \r\n                                {mano?.queEnvidoPuedeCantar >= 3 && mano?.puedeCantarEnvido && (\r\n                                    <button onClick={() => responderEnvido('ENVIDO')}>\r\n                                        <span>Envido</span>\r\n                                    </button>\r\n                                )}\r\n                                {mano?.queEnvidoPuedeCantar >= 2 && mano?.puedeCantarEnvido && (\r\n                                    <button onClick={() => responderEnvido('REAL_ENVIDO')}>\r\n                                        <span>Real Envido</span>\r\n                                    </button>\r\n                                )}\r\n                                {mano?.queEnvidoPuedeCantar >= 1 && mano?.puedeCantarEnvido && (\r\n                                    <button style={{animation:'dropShadowGlowContainer 3s ease-in-out infinite'}} onClick={() => responderEnvido('FALTA_ENVIDO')}>\r\n                                        <span className=\"swirl-glow-text\">Falta Envido</span>\r\n                                    </button>\r\n                                )}\r\n                                \r\n                       \r\n                       \r\n                            </div>\r\n                        )}\r\n\r\n                        \r\n                        {/* Responder Flor */}\r\n                        {mano?.cartasDisp && Number(posicion) === mano?.jugadorTurno && mano?.esperandoRespuesta && mano?.esTrucoEnvidoFlor === 2 && (\r\n                            \r\n                            <div className=\"envido-button-container\" style={{ left:'75%', position:'fixed', width:'auto'}}>\r\n                                {mano?.floresCantadas==2 && (\r\n                                <>\r\n                                <button onClick={() => responderFlor(\"QUIERO\")}>Quiero</button>\r\n                                <button onClick={() => responderFlor(\"NO_QUIERO\")}>No quiero</button>\r\n                                </>\r\n                                )}\r\n                                \r\n                             {mano?.queFlorPuedeCantar == 2 && (\r\n                                        <>\r\n                                            <button \r\n                                                style={{ animation:'dropShadowGlowContainer 3s ease-in-out infinite' }}\r\n                                                onClick={() => responderFlor('CONTRAFLOR')}\r\n                                            >\r\n                                                <span className=\"swirl-glow-text\">¡Contraflor!</span>\r\n                                            </button>\r\n                                            <button \r\n                                                style={{ animation:'dropShadowGlowContainer 3s ease-in-out infinite'}}\r\n                                                onClick={() => responderFlor('CON_FLOR_ME_ACHICO')}\r\n                                            >\r\n                                                <span className=\"swirl-glow-text\">Con flor me achico...</span>\r\n                                            </button>\r\n                                            </>\r\n                                    )}\r\n\r\n                                   \r\n                                        \r\n                                    \r\n                            </div>\r\n                        )}\r\n                        \r\n\r\n                        {/* Cartas Volteadas */}\r\n                        <CartasVolteadas\r\n                            cartasDispo={mano?.cartasDisp}\r\n                            posicionListaCartas={posicion}\r\n                            jugadorMano={game.jugadorMano}\r\n                            esperandoRespuesta={mano?.esperandoRespuesta}\r\n                            jugadorTurno={mano?.jugadorTurno}\r\n                        />\r\n                    </>\r\n                )}\r\n            </div>\r\n\r\n                <Perfil game={game} posicion={posicion} />\r\n                \r\n        </>\r\n    );\r\n});\r\n\r\nexport default PlayingModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}