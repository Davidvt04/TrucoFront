{"ast":null,"code":"import { Parser } from 'apg-lite';\nimport Grammar from \"../../../grammar.mjs\";\nimport { percentEncodeChar } from \"../../../utils.mjs\";\nconst parser = new Parser();\nconst grammar = new Grammar();\nconst cookieValueLenientEncoder = cookieValue => {\n  const value = String(cookieValue);\n\n  // detect if the value is quoted\n  const isQuoted = value.length >= 2 && value.startsWith('\"') && value.endsWith('\"');\n\n  // remove quotes if present for processing\n  const valueToEncode = isQuoted ? value.slice(1, -1) : value;\n  const startRule = isQuoted ? 'lenient-quoted-char' : 'lenient-cookie-octet';\n  let result = '';\n  for (const char of valueToEncode) {\n    result += parser.parse(grammar, startRule, char).success ? char : percentEncodeChar(char);\n  }\n  return isQuoted ? `\"${result}\"` : result;\n};\nexport default cookieValueLenientEncoder;","map":{"version":3,"names":["Parser","Grammar","percentEncodeChar","parser","grammar","cookieValueLenientEncoder","cookieValue","value","String","isQuoted","length","startsWith","endsWith","valueToEncode","slice","startRule","result","char","parse","success"],"sources":["C:/Users/david/OneDrive/Escritorio/TrucoFront/node_modules/@swaggerexpert/cookie/es/set-cookie/serialize/encoders/cookie-value-lenient.mjs"],"sourcesContent":["import { Parser } from 'apg-lite';\nimport Grammar from \"../../../grammar.mjs\";\nimport { percentEncodeChar } from \"../../../utils.mjs\";\nconst parser = new Parser();\nconst grammar = new Grammar();\nconst cookieValueLenientEncoder = cookieValue => {\n  const value = String(cookieValue);\n\n  // detect if the value is quoted\n  const isQuoted = value.length >= 2 && value.startsWith('\"') && value.endsWith('\"');\n\n  // remove quotes if present for processing\n  const valueToEncode = isQuoted ? value.slice(1, -1) : value;\n  const startRule = isQuoted ? 'lenient-quoted-char' : 'lenient-cookie-octet';\n  let result = '';\n  for (const char of valueToEncode) {\n    result += parser.parse(grammar, startRule, char).success ? char : percentEncodeChar(char);\n  }\n  return isQuoted ? `\"${result}\"` : result;\n};\nexport default cookieValueLenientEncoder;"],"mappings":"AAAA,SAASA,MAAM,QAAQ,UAAU;AACjC,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,SAASC,iBAAiB,QAAQ,oBAAoB;AACtD,MAAMC,MAAM,GAAG,IAAIH,MAAM,CAAC,CAAC;AAC3B,MAAMI,OAAO,GAAG,IAAIH,OAAO,CAAC,CAAC;AAC7B,MAAMI,yBAAyB,GAAGC,WAAW,IAAI;EAC/C,MAAMC,KAAK,GAAGC,MAAM,CAACF,WAAW,CAAC;;EAEjC;EACA,MAAMG,QAAQ,GAAGF,KAAK,CAACG,MAAM,IAAI,CAAC,IAAIH,KAAK,CAACI,UAAU,CAAC,GAAG,CAAC,IAAIJ,KAAK,CAACK,QAAQ,CAAC,GAAG,CAAC;;EAElF;EACA,MAAMC,aAAa,GAAGJ,QAAQ,GAAGF,KAAK,CAACO,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAGP,KAAK;EAC3D,MAAMQ,SAAS,GAAGN,QAAQ,GAAG,qBAAqB,GAAG,sBAAsB;EAC3E,IAAIO,MAAM,GAAG,EAAE;EACf,KAAK,MAAMC,IAAI,IAAIJ,aAAa,EAAE;IAChCG,MAAM,IAAIb,MAAM,CAACe,KAAK,CAACd,OAAO,EAAEW,SAAS,EAAEE,IAAI,CAAC,CAACE,OAAO,GAAGF,IAAI,GAAGf,iBAAiB,CAACe,IAAI,CAAC;EAC3F;EACA,OAAOR,QAAQ,GAAG,IAAIO,MAAM,GAAG,GAAGA,MAAM;AAC1C,CAAC;AACD,eAAeX,yBAAyB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}