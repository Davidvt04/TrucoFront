{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\david\\\\OneDrive\\\\Escritorio\\\\TrucoFront\\\\src\\\\components\\\\PartidaView.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useState, forwardRef } from 'react';\nimport { TbFlower } from \"react-icons/tb\";\nimport { TbFlowerOff } from \"react-icons/tb\";\nimport tokenService from '../services/token.service.js';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PartidaView = /*#__PURE__*/_s(/*#__PURE__*/forwardRef(_c = _s((props, ref) => {\n  _s();\n  const [game, setGame] = useState(props.game);\n  const [connectedUsers, setConnectedUsers] = useState(0);\n  const jwt = tokenService.getLocalAccessToken();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (game.estado === 'WAITING') {\n      fetch(\"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/partidajugador/numjugadores?partidaId=\" + game.id, {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${jwt}`,\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.text()).then(data => {\n        setConnectedUsers(JSON.parse(data));\n      }).catch(message => alert(message));\n    } else {\n      setConnectedUsers(game.numJugadores);\n    }\n  }, [game.estado, game.id, game.numJugadores]);\n  function handleSubmit() {\n    fetch(\"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/partidajugador/\" + game.id, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    }).then(response => {\n      response.text();\n      navigate(`/partidas?partidaCode=${game.codigo}`);\n    }).catch(message => alert(message));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: props.interfaz === 'chat' ? 'column' : 'row',\n      alignItems: props.interfaz === 'chat' ? 'flex-start' : 'center',\n      gap: '10px',\n      height: 'auto',\n      flexGrow: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: 18,\n          textDecoration: 'underline'\n        },\n        children: [\"Partida \", game.codigo, \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginLeft: 10\n        },\n        children: [game.puntosMaximos, \" puntos\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [game.conFlor && /*#__PURE__*/_jsxDEV(TbFlower, {\n          style: {\n            verticalAlign: 'middle'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 38\n        }, this), !game.conFlor && /*#__PURE__*/_jsxDEV(TbFlowerOff, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 39\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), game.estado !== 'FINISHED' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [connectedUsers, \"/\", game.numJugadores, \" jugadores\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        gap: '10px',\n        marginTop: props.interfaz === 'chat' ? '10px' : '0'\n      },\n      children: [game && connectedUsers < game.numJugadores && game.estado === 'WAITING' && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        style: {\n          color: 'black',\n          marginBottom: \"10px\"\n        },\n        onClick: () => handleSubmit(),\n        children: \"Unirse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), game && game.estado !== 'FINISHED' && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        style: {\n          color: 'black',\n          marginBottom: \"10px\"\n        },\n        onClick: () => navigate(`/partidas?partidaCode=${game.codigo}`),\n        children: \"Ver\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this), game && game.estado === 'FINISHED' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Partida finalizada\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}, \"PMaVLEFtVx1nMFRj0dIGlzyyx8U=\", false, function () {\n  return [useNavigate];\n})), \"PMaVLEFtVx1nMFRj0dIGlzyyx8U=\", false, function () {\n  return [useNavigate];\n});\n_c2 = PartidaView;\nexport default PartidaView;\nvar _c, _c2;\n$RefreshReg$(_c, \"PartidaView$forwardRef\");\n$RefreshReg$(_c2, \"PartidaView\");","map":{"version":3,"names":["useEffect","useState","forwardRef","TbFlower","TbFlowerOff","tokenService","useNavigate","jsxDEV","_jsxDEV","PartidaView","_s","_c","props","ref","game","setGame","connectedUsers","setConnectedUsers","jwt","getLocalAccessToken","navigate","estado","fetch","id","method","headers","Authorization","Accept","then","response","text","data","JSON","parse","catch","message","alert","numJugadores","handleSubmit","codigo","style","display","flexDirection","interfaz","alignItems","gap","height","flexGrow","children","fontSize","textDecoration","fileName","_jsxFileName","lineNumber","columnNumber","marginLeft","puntosMaximos","conFlor","verticalAlign","marginTop","className","color","marginBottom","onClick","_c2","$RefreshReg$"],"sources":["C:/Users/david/OneDrive/Escritorio/TrucoFront/src/components/PartidaView.js"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { useState, forwardRef } from 'react';\r\nimport { TbFlower } from \"react-icons/tb\";\r\nimport { TbFlowerOff } from \"react-icons/tb\";\r\nimport tokenService from '../services/token.service.js';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst PartidaView = forwardRef((props, ref) => {\r\n    const [game, setGame] = useState(props.game);\r\n    const [connectedUsers, setConnectedUsers] = useState(0);\r\n    const jwt = tokenService.getLocalAccessToken();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (game.estado === 'WAITING') {\r\n            fetch(\r\n                \"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/partidajugador/numjugadores?partidaId=\" + game.id,\r\n                {\r\n                    method: \"GET\",\r\n                    headers: {\r\n                        Authorization: `Bearer ${jwt}`,\r\n                        Accept: \"application/json\",\r\n                        \"Content-Type\": \"application/json\",\r\n                      }\r\n                }\r\n            )\r\n                .then((response) => response.text())\r\n                .then((data) => {\r\n                    setConnectedUsers(JSON.parse(data));\r\n                })\r\n                .catch((message) => alert(message));\r\n        } else {\r\n            setConnectedUsers(game.numJugadores);\r\n        }\r\n    }, [game.estado, game.id, game.numJugadores]);\r\n\r\n    function handleSubmit() {\r\n        fetch(\r\n            \"https://trucobeasts-e0dxg3dvccd5dvb5.centralus-01.azurewebsites.net/api/v1/partidajugador/\" + game.id,\r\n            {\r\n                method: \"POST\",\r\n                headers: {\r\n                    Authorization: `Bearer ${jwt}`,\r\n                },\r\n            }\r\n        )\r\n            .then((response) => {\r\n                response.text();\r\n                navigate(`/partidas?partidaCode=${game.codigo}`);\r\n            })\r\n            .catch((message) => alert(message));\r\n    }\r\n\r\n    return (\r\n        <div style={{ display: 'flex', flexDirection: props.interfaz === 'chat' ? 'column' : 'row', alignItems: props.interfaz === 'chat' ? 'flex-start' : 'center', gap: '10px', height: 'auto', flexGrow: 1 }}>\r\n            <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', gap: '10px' }}>\r\n                <p style={{ fontSize: 18, textDecoration: 'underline' }}>Partida {game.codigo}:</p>\r\n                <p style={{ marginLeft: 10 }}>{game.puntosMaximos} puntos</p>\r\n                <p>\r\n                    {game.conFlor && <TbFlower style={{ verticalAlign: 'middle' }} />}\r\n                    {!game.conFlor && <TbFlowerOff />}\r\n                </p>\r\n                {game.estado !== 'FINISHED' &&\r\n                    <p>{connectedUsers}/{game.numJugadores} jugadores</p>\r\n                }\r\n            </div>\r\n            <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', gap: '10px', marginTop: props.interfaz === 'chat' ? '10px' : '0' }}>\r\n                {game && connectedUsers < game.numJugadores && game.estado === 'WAITING' &&\r\n                    <button className=\"button\" style={{ color: 'black', marginBottom:\"10px\" }} onClick={() => handleSubmit()}>\r\n                        Unirse\r\n                    </button>\r\n                }\r\n                {game && game.estado !== 'FINISHED' &&\r\n                    <button className=\"button\" style={{ color: 'black'  ,marginBottom:\"10px\"}} onClick={() => navigate(`/partidas?partidaCode=${game.codigo}`)}>\r\n                        Ver\r\n                    </button>\r\n                }\r\n                {game && game.estado === 'FINISHED' &&\r\n                    <p>Partida finalizada</p>}\r\n\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default PartidaView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}